var K=Object.defineProperty;var Y=(t,e,r)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var x=(t,e,r)=>(Y(t,typeof e!="symbol"?e+"":e,r),r);import{o as getAugmentedNamespace,p as commonjsGlobal,q as getDefaultExportFromCjs,_ as __vitePreload}from"./index-5bcd9038.js";class KeyboardInputManager{static init(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}static addShortcut(e,r,n){const s=r.toLowerCase().replace(/\s+/g,"");e in this._shortcutKeys||(this._shortcutKeys[e]={}),this._shortcutKeys[e][s]=n}static removeShortcut(e,r){const n=r.toLowerCase().replace(/\s+/g,"");e in this._shortcutKeys&&n in this._shortcutKeys[e]&&delete this._shortcutKeys[e][n]}static handleKeyDown(e){this._currentKeys.push(e.key.toLowerCase());const r=this._currentKeys.join("+");for(const n in this._shortcutKeys)if(r in this._shortcutKeys[n]){this._shortcutKeys[n][r](),this._currentKeys=[];break}}static handleKeyUp(){this._currentKeys=[]}}x(KeyboardInputManager,"_shortcutKeys",{}),x(KeyboardInputManager,"_currentKeys",[]);var treeSitter={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var path={exports:{}},util={},isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),isBufferBrowser}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}),inherits_browser.exports}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(t){var e=/%[sdj%]/g;t.format=function(i){if(!b(i)){for(var m=[],p=0;p<arguments.length;p++)m.push(s(arguments[p]));return m.join(" ")}for(var p=1,S=arguments,O=S.length,T=String(i).replace(e,function(A){if(A==="%%")return"%";if(p>=O)return A;switch(A){case"%s":return String(S[p++]);case"%d":return Number(S[p++]);case"%j":try{return JSON.stringify(S[p++])}catch{return"[Circular]"}default:return A}}),I=S[p];p<O;I=S[++p])c(I)||!F(I)?T+=" "+I:T+=" "+s(I);return T},t.deprecate=function(i,m){if(N(commonjsGlobal.process))return function(){return t.deprecate(i,m).apply(this,arguments)};if(process.noDeprecation===!0)return i;var p=!1;function S(){if(!p){if(process.throwDeprecation)throw new Error(m);process.traceDeprecation?console.trace(m):console.error(m),p=!0}return i.apply(this,arguments)}return S};var r={},n;t.debuglog=function(i){if(N(n)&&(n={}.NODE_DEBUG||""),i=i.toUpperCase(),!r[i])if(new RegExp("\\b"+i+"\\b","i").test(n)){var m=process.pid;r[i]=function(){var p=t.format.apply(t,arguments);console.error("%s %d: %s",i,m,p)}}else r[i]=function(){};return r[i]};function s(i,m){var p={seen:[],stylize:_};return arguments.length>=3&&(p.depth=arguments[2]),arguments.length>=4&&(p.colors=arguments[3]),l(m)?p.showHidden=m:m&&t._extend(p,m),N(p.showHidden)&&(p.showHidden=!1),N(p.depth)&&(p.depth=2),N(p.colors)&&(p.colors=!1),N(p.customInspect)&&(p.customInspect=!0),p.colors&&(p.stylize=o),y(p,i,p.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(i,m){var p=s.styles[m];return p?"\x1B["+s.colors[p][0]+"m"+i+"\x1B["+s.colors[p][1]+"m":i}function _(i,m){return i}function d(i){var m={};return i.forEach(function(p,S){m[p]=!0}),m}function y(i,m,p){if(i.customInspect&&m&&Z(m.inspect)&&m.inspect!==t.inspect&&!(m.constructor&&m.constructor.prototype===m)){var S=m.inspect(p,i);return b(S)||(S=y(i,S,p)),S}var O=E(i,m);if(O)return O;var T=Object.keys(m),I=d(T);if(i.showHidden&&(T=Object.getOwnPropertyNames(m)),H(m)&&(T.indexOf("message")>=0||T.indexOf("description")>=0))return w(m);if(T.length===0){if(Z(m)){var A=m.name?": "+m.name:"";return i.stylize("[Function"+A+"]","special")}if(v(m))return i.stylize(RegExp.prototype.toString.call(m),"regexp");if(D(m))return i.stylize(Date.prototype.toString.call(m),"date");if(H(m))return w(m)}var R="",B=!1,q=["{","}"];if(u(m)&&(B=!0,q=["[","]"]),Z(m)){var z=m.name?": "+m.name:"";R=" [Function"+z+"]"}if(v(m)&&(R=" "+RegExp.prototype.toString.call(m)),D(m)&&(R=" "+Date.prototype.toUTCString.call(m)),H(m)&&(R=" "+w(m)),T.length===0&&(!B||m.length==0))return q[0]+R+q[1];if(p<0)return v(m)?i.stylize(RegExp.prototype.toString.call(m),"regexp"):i.stylize("[Object]","special");i.seen.push(m);var G;return B?G=g(i,m,p,I,T):G=T.map(function($){return M(i,m,p,I,$,B)}),i.seen.pop(),a(G,R,q)}function E(i,m){if(N(m))return i.stylize("undefined","undefined");if(b(m)){var p="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return i.stylize(p,"string")}if(f(m))return i.stylize(""+m,"number");if(l(m))return i.stylize(""+m,"boolean");if(c(m))return i.stylize("null","null")}function w(i){return"["+Error.prototype.toString.call(i)+"]"}function g(i,m,p,S,O){for(var T=[],I=0,A=m.length;I<A;++I)V(m,String(I))?T.push(M(i,m,p,S,String(I),!0)):T.push("");return O.forEach(function(R){R.match(/^\d+$/)||T.push(M(i,m,p,S,R,!0))}),T}function M(i,m,p,S,O,T){var I,A,R;if(R=Object.getOwnPropertyDescriptor(m,O)||{value:m[O]},R.get?R.set?A=i.stylize("[Getter/Setter]","special"):A=i.stylize("[Getter]","special"):R.set&&(A=i.stylize("[Setter]","special")),V(S,O)||(I="["+O+"]"),A||(i.seen.indexOf(R.value)<0?(c(p)?A=y(i,R.value,null):A=y(i,R.value,p-1),A.indexOf(`
`)>-1&&(T?A=A.split(`
`).map(function(B){return"  "+B}).join(`
`).substr(2):A=`
`+A.split(`
`).map(function(B){return"   "+B}).join(`
`))):A=i.stylize("[Circular]","special")),N(I)){if(T&&O.match(/^\d+$/))return A;I=JSON.stringify(""+O),I.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.substr(1,I.length-2),I=i.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=i.stylize(I,"string"))}return I+": "+A}function a(i,m,p){var S=i.reduce(function(O,T){return T.indexOf(`
`)>=0,O+T.replace(/\u001b\[\d\d?m/g,"").length+1},0);return S>60?p[0]+(m===""?"":m+`
 `)+" "+i.join(`,
  `)+" "+p[1]:p[0]+m+" "+i.join(", ")+" "+p[1]}function u(i){return Array.isArray(i)}t.isArray=u;function l(i){return typeof i=="boolean"}t.isBoolean=l;function c(i){return i===null}t.isNull=c;function h(i){return i==null}t.isNullOrUndefined=h;function f(i){return typeof i=="number"}t.isNumber=f;function b(i){return typeof i=="string"}t.isString=b;function P(i){return typeof i=="symbol"}t.isSymbol=P;function N(i){return i===void 0}t.isUndefined=N;function v(i){return F(i)&&U(i)==="[object RegExp]"}t.isRegExp=v;function F(i){return typeof i=="object"&&i!==null}t.isObject=F;function D(i){return F(i)&&U(i)==="[object Date]"}t.isDate=D;function H(i){return F(i)&&(U(i)==="[object Error]"||i instanceof Error)}t.isError=H;function Z(i){return typeof i=="function"}t.isFunction=Z;function j(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||typeof i>"u"}t.isPrimitive=j,t.isBuffer=requireIsBufferBrowser();function U(i){return Object.prototype.toString.call(i)}function L(i){return i<10?"0"+i.toString(10):i.toString(10)}var W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var i=new Date,m=[L(i.getHours()),L(i.getMinutes()),L(i.getSeconds())].join(":");return[i.getDate(),W[i.getMonth()],m].join(" ")}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=requireInherits_browser(),t._extend=function(i,m){if(!m||!F(m))return i;for(var p=Object.keys(m),S=p.length;S--;)i[p[S]]=m[p[S]];return i};function V(i,m){return Object.prototype.hasOwnProperty.call(i,m)}}(util)),util}var hasRequiredPath;function requirePath(){if(hasRequiredPath)return path.exports;hasRequiredPath=1;var t=process.platform==="win32",e=requireUtil();function r(a,u){for(var l=[],c=0;c<a.length;c++){var h=a[c];!h||h==="."||(h===".."?l.length&&l[l.length-1]!==".."?l.pop():u&&l.push(".."):l.push(h))}return l}function n(a){for(var u=a.length-1,l=0;l<=u&&!a[l];l++);for(var c=u;c>=0&&!a[c];c--);return l===0&&c===u?a:l>c?[]:a.slice(l,c+1)}var s=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,o=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,_={};function d(a){var u=s.exec(a),l=(u[1]||"")+(u[2]||""),c=u[3]||"",h=o.exec(c),f=h[1],b=h[2],P=h[3];return[l,f,b,P]}function y(a){var u=s.exec(a),l=u[1]||"",c=!!l&&l[1]!==":";return{device:l,isUnc:c,isAbsolute:c||!!u[2],tail:u[3]}}function E(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}_.resolve=function(){for(var a="",u="",l=!1,c=arguments.length-1;c>=-1;c--){var h;if(c>=0?h=arguments[c]:a?(h=process.env["="+a],(!h||h.substr(0,3).toLowerCase()!==a.toLowerCase()+"\\")&&(h=a+"\\")):h=process.cwd(),e.isString(h)){if(!h)continue}else throw new TypeError("Arguments to path.resolve must be strings");var f=y(h),b=f.device,P=f.isUnc,N=f.isAbsolute,v=f.tail;if(!(b&&a&&b.toLowerCase()!==a.toLowerCase())&&(a||(a=b),l||(u=v+"\\"+u,l=N),a&&l))break}return P&&(a=E(a)),u=r(u.split(/[\\\/]+/),!l).join("\\"),a+(l?"\\":"")+u||"."},_.normalize=function(a){var u=y(a),l=u.device,c=u.isUnc,h=u.isAbsolute,f=u.tail,b=/[\\\/]$/.test(f);return f=r(f.split(/[\\\/]+/),!h).join("\\"),!f&&!h&&(f="."),f&&b&&(f+="\\"),c&&(l=E(l)),l+(h?"\\":"")+f},_.isAbsolute=function(a){return y(a).isAbsolute},_.join=function(){for(var a=[],u=0;u<arguments.length;u++){var l=arguments[u];if(!e.isString(l))throw new TypeError("Arguments to path.join must be strings");l&&a.push(l)}var c=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(c=c.replace(/^[\\\/]{2,}/,"\\")),_.normalize(c)},_.relative=function(a,u){a=_.resolve(a),u=_.resolve(u);for(var l=a.toLowerCase(),c=u.toLowerCase(),h=n(u.split("\\")),f=n(l.split("\\")),b=n(c.split("\\")),P=Math.min(f.length,b.length),N=P,v=0;v<P;v++)if(f[v]!==b[v]){N=v;break}if(N==0)return u;for(var F=[],v=N;v<f.length;v++)F.push("..");return F=F.concat(h.slice(N)),F.join("\\")},_._makeLong=function(a){if(!e.isString(a))return a;if(!a)return"";var u=_.resolve(a);return/^[a-zA-Z]\:\\/.test(u)?"\\\\?\\"+u:/^\\\\[^?.]/.test(u)?"\\\\?\\UNC\\"+u.substring(2):a},_.dirname=function(a){var u=d(a),l=u[0],c=u[1];return!l&&!c?".":(c&&(c=c.substr(0,c.length-1)),l+c)},_.basename=function(a,u){var l=d(a)[2];return u&&l.substr(-1*u.length)===u&&(l=l.substr(0,l.length-u.length)),l},_.extname=function(a){return d(a)[3]},_.format=function(a){if(!e.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var u=a.root||"";if(!e.isString(u))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var l=a.dir,c=a.base||"";return l?l[l.length-1]===_.sep?l+c:l+_.sep+c:c},_.parse=function(a){if(!e.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var u=d(a);if(!u||u.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:u[0],dir:u[0]+u[1].slice(0,-1),base:u[2],ext:u[3],name:u[2].slice(0,u[2].length-u[3].length)}},_.sep="\\",_.delimiter=";";var w=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g={};function M(a){return w.exec(a).slice(1)}return g.resolve=function(){for(var a="",u=!1,l=arguments.length-1;l>=-1&&!u;l--){var c=l>=0?arguments[l]:process.cwd();if(e.isString(c)){if(!c)continue}else throw new TypeError("Arguments to path.resolve must be strings");a=c+"/"+a,u=c[0]==="/"}return a=r(a.split("/"),!u).join("/"),(u?"/":"")+a||"."},g.normalize=function(a){var u=g.isAbsolute(a),l=a&&a[a.length-1]==="/";return a=r(a.split("/"),!u).join("/"),!a&&!u&&(a="."),a&&l&&(a+="/"),(u?"/":"")+a},g.isAbsolute=function(a){return a.charAt(0)==="/"},g.join=function(){for(var a="",u=0;u<arguments.length;u++){var l=arguments[u];if(!e.isString(l))throw new TypeError("Arguments to path.join must be strings");l&&(a?a+="/"+l:a+=l)}return g.normalize(a)},g.relative=function(a,u){a=g.resolve(a).substr(1),u=g.resolve(u).substr(1);for(var l=n(a.split("/")),c=n(u.split("/")),h=Math.min(l.length,c.length),f=h,b=0;b<h;b++)if(l[b]!==c[b]){f=b;break}for(var P=[],b=f;b<l.length;b++)P.push("..");return P=P.concat(c.slice(f)),P.join("/")},g._makeLong=function(a){return a},g.dirname=function(a){var u=M(a),l=u[0],c=u[1];return!l&&!c?".":(c&&(c=c.substr(0,c.length-1)),l+c)},g.basename=function(a,u){var l=M(a)[2];return u&&l.substr(-1*u.length)===u&&(l=l.substr(0,l.length-u.length)),l},g.extname=function(a){return M(a)[3]},g.format=function(a){if(!e.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var u=a.root||"";if(!e.isString(u))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var l=a.dir?a.dir+g.sep:"",c=a.base||"";return l+c},g.parse=function(a){if(!e.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var u=M(a);if(!u||u.length!==4)throw new TypeError("Invalid path '"+a+"'");return u[1]=u[1]||"",u[2]=u[2]||"",u[3]=u[3]||"",{root:u[0],dir:u[0]+u[1].slice(0,-1),base:u[2],ext:u[3],name:u[2].slice(0,u[2].length-u[3].length)}},g.sep="/",g.delimiter=":",t?path.exports=_:path.exports=g,path.exports.posix=g,path.exports.win32=_,path.exports}(function(module,exports){var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(t,e)=>{throw e},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary;function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}function logExceptionOnExit(t){t instanceof ExitStatus||err("exiting due to exception: "+t)}if(ENVIRONMENT_IS_NODE){var fs=require$$0,nodePath=requirePath();scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(t,e)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,e?void 0:"utf8")),readBinary=t=>{var e=read_(t,!0);return e.buffer||(e=new Uint8Array(e)),e},readAsync=(t,e,r)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(n,s){n?r(n):e(s.buffer)})},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),module.exports=Module,quit_=(t,e)=>{if(keepRuntimeAlive())throw process.exitCode=t,e;logExceptionOnExit(e),process.exit(t)},Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});Module.print||console.log.bind(console);var err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(t,e,r){for(var n=e+r,s=e;t[s]&&!(s>=n);)++s;if(s-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,s));for(var o="";e<s;){var _=t[e++];if(128&_){var d=63&t[e++];if((224&_)!=192){var y=63&t[e++];if((_=(240&_)==224?(15&_)<<12|d<<6|y:(7&_)<<18|d<<12|y<<6|63&t[e++])<65536)o+=String.fromCharCode(_);else{var E=_-65536;o+=String.fromCharCode(55296|E>>10,56320|1023&E)}}else o+=String.fromCharCode((31&_)<<6|d)}else o+=String.fromCharCode(_)}return o}function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}function stringToUTF8Array(t,e,r,n){if(!(n>0))return 0;for(var s=r,o=r+n-1,_=0;_<t.length;++_){var d=t.charCodeAt(_);if(d>=55296&&d<=57343&&(d=65536+((1023&d)<<10)|1023&t.charCodeAt(++_)),d<=127){if(r>=o)break;e[r++]=d}else if(d<=2047){if(r+1>=o)break;e[r++]=192|d>>6,e[r++]=128|63&d}else if(d<=65535){if(r+2>=o)break;e[r++]=224|d>>12,e[r++]=128|d>>6&63,e[r++]=128|63&d}else{if(r+3>=o)break;e[r++]=240|d>>18,e[r++]=128|d>>12&63,e[r++]=128|d>>6&63,e[r++]=128|63&d}}return e[r]=0,r-s}function stringToUTF8(t,e,r){return stringToUTF8Array(t,HEAPU8,e,r)}function lengthBytesUTF8(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e}function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}function addOnInit(t){__ATINIT__.unshift(t)}function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}var runDependencies=0,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&dependenciesFulfilled){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(t){return t.startsWith(dataURIPrefix)}function isFileURI(t){return t.startsWith("file://")}function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(t,e){readAsync(wasmBinaryFile,function(r){t(new Uint8Array(r))},e)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function e(s,o){var _=s.exports;_=relocateExports(_,1024);var d=getDylinkMetadata(o);d.neededDynlibs&&(dynamicLibraries=d.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(_),Module.asm=_,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency()}function r(s){e(s.instance,s.module)}function n(s){return getBinaryPromise().then(function(o){return WebAssembly.instantiate(o,t)}).then(function(o){return o}).then(s,function(o){err("failed to asynchronously prepare wasm: "+o),abort(o)})}if(addRunDependency(),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(s){return err("Module.instantiateWasm callback failed with error: "+s),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(s){return WebAssembly.instantiateStreaming(s,t).then(r,function(o){return err("wasm streaming compile failed: "+o),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(e)||(r.required=!0),r}};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}function getDylinkMetadata(t){var e=0,r=0;function n(){for(var h=0,f=1;;){var b=t[e++];if(h+=(127&b)*f,f*=128,!(128&b))break}return h}function s(){var h=n();return UTF8ArrayToString(t,(e+=h)-h,h)}function o(h,f){if(h)throw new Error(f)}var _="dylink.0";if(t instanceof WebAssembly.Module){var d=WebAssembly.Module.customSections(t,_);d.length===0&&(_="dylink",d=WebAssembly.Module.customSections(t,_)),o(d.length===0,"need dylink section"),r=(t=new Uint8Array(d[0])).length}else{o(new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),o(t[8]!==0,"need the dylink section to be first"),e=9;var y=n();r=e+y,_=s()}var E={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(_=="dylink"){E.memorySize=n(),E.memoryAlign=n(),E.tableSize=n(),E.tableAlign=n();for(var w=n(),g=0;g<w;++g){var M=s();E.neededDynlibs.push(M)}}else for(o(_!=="dylink.0");e<r;){var a=t[e++],u=n();if(a===1)E.memorySize=n(),E.memoryAlign=n(),E.tableSize=n(),E.tableAlign=n();else if(a===2)for(w=n(),g=0;g<w;++g)M=s(),E.neededDynlibs.push(M);else if(a===3)for(var l=n();l--;){var c=s();256&n()&&E.tlsExports.add(c)}else if(a===4)for(l=n();l--;)s(),c=s(),(3&n())==1&&E.weakImports.add(c);else e+=u}return E}function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];case"*":return HEAPU32[t>>2];default:abort("invalid type for getValue: "+e)}return null}function asmjsMangle(t){return t.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(t)?t:"_"+t}function mergeLibSymbols(t,e){for(var r in t)if(t.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=t[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=t[r]),r=="__main_argc_argv"&&(Module._main=t[r])}}var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(t,e,r){var n=Module["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)}var wasmTableMirror=[];function getWasmTableEntry(t){var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e}function dynCall(t,e,r){return t.includes("j")?dynCallLegacy(t,e,r):getWasmTableEntry(e).apply(null,r)}function createInvokeFunction(t){return function(){var e=stackSave();try{return dynCall(t,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(e),r!==r+0)throw r;_setThrew(1,0)}}}var ___heap_base=78144;function zeroMemory(t,e){return HEAPU8.fill(0,t,t+e),t}function getMemory(t){if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+t+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,e}function isInternalSym(t){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(t)}function uleb128Encode(t,e){t<128?e.push(t):e.push(t%128|128,t>>7)}function sigToWasmTypes(t){for(var e={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]),t[n]==="j"&&r.parameters.push("i32");return r}function generateFuncType(t,e){var r=t.slice(0,1),n=t.slice(1),s={i:127,p:127,j:126,f:125,d:124};e.push(96),uleb128Encode(n.length,e);for(var o=0;o<n.length;++o)e.push(s[n[o]]);r=="v"?e.push(0):e.push(1,s[r])}function convertJsFunctionToWasm(t,e){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var s=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(s,{e:{f:t}}).exports.f}function updateTableMap(t,e){if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1}function setWasmTableEntry(t,e){wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)}function addFunction(t,e){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(t))return functionsInTableMap.get(t);var r=getEmptyTableSlot();try{setWasmTableEntry(r,t)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(t,e))}return functionsInTableMap.set(t,r),r}function updateGOT(t,e){for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}function relocateExports(t,e,r){var n={};for(var s in t){var o=t[s];typeof o=="object"&&(o=o.value),typeof o=="number"&&(o+=e),n[s]=o}return updateGOT(n,r),n}function resolveGlobalSymbol(t,e){var r;return e&&(r=asmLibraryArg["orig$"+t]),r||(r=asmLibraryArg[t])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(t)]),!r&&t.startsWith("invoke_")&&(r=createInvokeFunction(t.split("_")[1])),r}function alignMemory(t,e){return Math.ceil(t/e)*e}function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t,!1);return e||(e=moduleExports[t]),e}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in asmLibraryArg)return asmLibraryArg[e];var r;return e in t||(t[e]=function(){return r||(r=resolveSymbol(e)),r.apply(null,arguments)}),t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";eval(func)}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(t){return postInstantiation(t.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(t){loadDynamicLibrary(t,flags)}),loadModule())}function loadDynamicLibrary(t,e,r){e=e||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[t];if(n)return e.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module)),e.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!e.loadAsync||Promise.resolve(!0);function s(d){if(e.fs&&e.fs.findObject(d)){var y=e.fs.readFile(d,{encoding:"binary"});return y instanceof Uint8Array||(y=new Uint8Array(y)),e.loadAsync?Promise.resolve(y):y}if(d=locateFile(d),e.loadAsync)return new Promise(function(E,w){readAsync(d,g=>E(new Uint8Array(g)),w)});if(!readBinary)throw new Error(d+": file not found, and synchronous loading of external files is not available");return readBinary(d)}function o(){if(typeof preloadedWasm<"u"&&preloadedWasm[t]){var d=preloadedWasm[t];return e.loadAsync?Promise.resolve(d):d}return e.loadAsync?s(t).then(function(y){return loadWebAssemblyModule(y,e,r)}):loadWebAssemblyModule(s(t),e,r)}function _(d){n.global&&mergeLibSymbols(d),n.module=d}return n={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},LDSO.loadedLibsByName[t]=n,r&&(LDSO.loadedLibsByHandle[r]=n),e.loadAsync?o().then(function(d){return _(d),!0}):(_(o()),!0)}function reportUndefinedSymbols(){for(var t in GOT)if(GOT[t].value==0){var e=resolveGlobalSymbol(t,!0);if(!e&&!GOT[t].required)continue;if(typeof e=="function")GOT[t].value=addFunction(e,e.sig);else{if(typeof e!="number")throw new Error("bad export type for `"+t+"`: "+typeof e);GOT[t].value=e}}}function preloadDylibs(){dynamicLibraries.length?(addRunDependency(),dynamicLibraries.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency()})):reportUndefinedSymbols()}function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;case"*":HEAPU32[t>>2]=e;break;default:abort("invalid type for setValue: "+r)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function _abort(){abort("")}function _emscripten_memcpy_big(t,e,r){HEAPU8.copyWithin(t,e,e+r)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=1;n<=4;n*=2){var s=e*(1+.2/n);if(s=Math.min(s,t+100663296),emscripten_realloc_buffer(Math.min(r,(o=Math.max(t,s))+((_=65536)-o%_)%_)))return!0}var o,_;return!1}__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(t,e,r){if(PATH.isAbs(e))return e;var n;if(t===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(t).path,e.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,e)},doStat:function(t,e,r){try{var n=t(e)}catch(d){if(d&&d.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(d.node)))return-54;throw d}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var s=n.atime.getTime(),o=n.mtime.getTime(),_=n.ctime.getTime();return tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=s%1e3*1e3,tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=o%1e3*1e3,tempI64=[Math.floor(_/1e3)>>>0,(tempDouble=Math.floor(_/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=_%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},doMsync:function(t,e,r,n,s){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var o=HEAPU8.slice(t,t+r);FS.msync(e,o,s,r,n)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(t){return UTF8ToString(t)},getStreamFromFD:function(t){var e=FS.getStream(t);if(!e)throw new FS.ErrnoError(8);return e}};function _proc_exit(t){EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit&&Module.onExit(t),ABORT=!0),quit_(t,new ExitStatus(t))}function exitJS(t,e){EXITSTATUS=t,_proc_exit(t)}_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(t){try{var e=SYSCALLS.getStreamFromFD(t);return FS.close(e),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}function convertI32PairToI53Checked(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}function _fd_seek(t,e,r,n,s){try{var o=convertI32PairToI53Checked(e,r);if(isNaN(o))return 61;var _=SYSCALLS.getStreamFromFD(t);return FS.llseek(_,o,n),tempI64=[_.position>>>0,(tempDouble=_.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[s>>2]=tempI64[0],HEAP32[s+4>>2]=tempI64[1],_.getdents&&o===0&&n===0&&(_.getdents=null),0}catch(d){if(typeof FS>"u"||!(d instanceof FS.ErrnoError))throw d;return d.errno}}function doWritev(t,e,r,n){for(var s=0,o=0;o<r;o++){var _=HEAPU32[e>>2],d=HEAPU32[e+4>>2];e+=8;var y=FS.write(t,HEAP8,_,d,n);if(y<0)return-1;s+=y,n!==void 0&&(n+=y)}return s}function _fd_write(t,e,r,n){try{var s=doWritev(SYSCALLS.getStreamFromFD(t),e,r);return HEAPU32[n>>2]=s,0}catch(o){if(typeof FS>"u"||!(o instanceof FS.ErrnoError))throw o;return o.errno}}function _tree_sitter_log_callback(t,e){if(currentLogCallback){const r=UTF8ToString(e);currentLogCallback(r,t!==0)}}function _tree_sitter_parse_callback(t,e,r,n,s){var o=currentParseCallback(e,{row:r,column:n});typeof o=="string"?(setValue(s,o.length,"i32"),stringToUTF16(o,t,10240)):setValue(s,0,"i32")}function handleException(t){if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)}function allocateUTF8OnStack(t){var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8Array(t,HEAP8,r,e),r}function stringToUTF16(t,e,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=e,s=(r-=2)<2*t.length?r/2:t.length,o=0;o<s;++o){var _=t.charCodeAt(o);HEAP16[e>>1]=_,e+=2}return HEAP16[e>>1]=0,e-n}function AsciiToString(t){for(var e="";;){var r=HEAPU8[t++>>0];if(!r)return e;e+=String.fromCharCode(r)}}_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback};createWasm(),Module.___wasm_call_ctors=function(){return(Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},Module.___wasm_apply_data_relocs=function(){return(Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)};var _malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)};Module._calloc=function(){return(Module._calloc=Module.asm.calloc).apply(null,arguments)},Module._realloc=function(){return(Module._realloc=Module.asm.realloc).apply(null,arguments)},Module._free=function(){return(Module._free=Module.asm.free).apply(null,arguments)},Module._ts_language_symbol_count=function(){return(Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},Module._ts_language_version=function(){return(Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},Module._ts_language_field_count=function(){return(Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},Module._ts_language_symbol_name=function(){return(Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},Module._ts_language_symbol_for_name=function(){return(Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},Module._ts_language_symbol_type=function(){return(Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},Module._ts_language_field_name_for_id=function(){return(Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},Module._memset=function(){return(Module._memset=Module.asm.memset).apply(null,arguments)},Module._memcpy=function(){return(Module._memcpy=Module.asm.memcpy).apply(null,arguments)},Module._ts_parser_delete=function(){return(Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},Module._ts_parser_reset=function(){return(Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},Module._ts_parser_set_language=function(){return(Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},Module._ts_parser_timeout_micros=function(){return(Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},Module._ts_parser_set_timeout_micros=function(){return(Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},Module._memmove=function(){return(Module._memmove=Module.asm.memmove).apply(null,arguments)},Module._memcmp=function(){return(Module._memcmp=Module.asm.memcmp).apply(null,arguments)},Module._ts_query_new=function(){return(Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},Module._ts_query_delete=function(){return(Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},Module._iswspace=function(){return(Module._iswspace=Module.asm.iswspace).apply(null,arguments)},Module._iswalnum=function(){return(Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},Module._ts_query_pattern_count=function(){return(Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},Module._ts_query_capture_count=function(){return(Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},Module._ts_query_string_count=function(){return(Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},Module._ts_query_capture_name_for_id=function(){return(Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},Module._ts_query_string_value_for_id=function(){return(Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},Module._ts_query_predicates_for_pattern=function(){return(Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},Module._ts_tree_copy=function(){return(Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},Module._ts_tree_delete=function(){return(Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},Module._ts_init=function(){return(Module._ts_init=Module.asm.ts_init).apply(null,arguments)},Module._ts_parser_new_wasm=function(){return(Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},Module._ts_parser_enable_logger_wasm=function(){return(Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},Module._ts_parser_parse_wasm=function(){return(Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},Module._ts_language_type_is_named_wasm=function(){return(Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},Module._ts_language_type_is_visible_wasm=function(){return(Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},Module._ts_tree_root_node_wasm=function(){return(Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},Module._ts_tree_edit_wasm=function(){return(Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},Module._ts_tree_get_changed_ranges_wasm=function(){return(Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},Module._ts_tree_cursor_new_wasm=function(){return(Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},Module._ts_tree_cursor_delete_wasm=function(){return(Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},Module._ts_tree_cursor_reset_wasm=function(){return(Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_first_child_wasm=function(){return(Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_parent_wasm=function(){return(Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_id_wasm=function(){return(Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_position_wasm=function(){return(Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_position_wasm=function(){return(Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_index_wasm=function(){return(Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_index_wasm=function(){return(Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_field_id_wasm=function(){return(Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_wasm=function(){return(Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},Module._ts_node_symbol_wasm=function(){return(Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},Module._ts_node_child_count_wasm=function(){return(Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},Module._ts_node_named_child_count_wasm=function(){return(Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},Module._ts_node_child_wasm=function(){return(Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},Module._ts_node_named_child_wasm=function(){return(Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},Module._ts_node_child_by_field_id_wasm=function(){return(Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},Module._ts_node_next_sibling_wasm=function(){return(Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_sibling_wasm=function(){return(Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},Module._ts_node_next_named_sibling_wasm=function(){return(Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_named_sibling_wasm=function(){return(Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},Module._ts_node_parent_wasm=function(){return(Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},Module._ts_node_descendant_for_index_wasm=function(){return(Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_index_wasm=function(){return(Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_descendant_for_position_wasm=function(){return(Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_position_wasm=function(){return(Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_start_point_wasm=function(){return(Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},Module._ts_node_end_point_wasm=function(){return(Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},Module._ts_node_start_index_wasm=function(){return(Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},Module._ts_node_end_index_wasm=function(){return(Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},Module._ts_node_to_string_wasm=function(){return(Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},Module._ts_node_children_wasm=function(){return(Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},Module._ts_node_named_children_wasm=function(){return(Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},Module._ts_node_descendants_of_type_wasm=function(){return(Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},Module._ts_node_is_named_wasm=function(){return(Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},Module._ts_node_has_changes_wasm=function(){return(Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},Module._ts_node_has_error_wasm=function(){return(Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},Module._ts_node_is_missing_wasm=function(){return(Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},Module._ts_query_matches_wasm=function(){return(Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},Module._ts_query_captures_wasm=function(){return(Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},Module.___cxa_atexit=function(){return(Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},Module._iswdigit=function(){return(Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},Module._iswalpha=function(){return(Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},Module._iswlower=function(){return(Module._iswlower=Module.asm.iswlower).apply(null,arguments)},Module._memchr=function(){return(Module._memchr=Module.asm.memchr).apply(null,arguments)},Module._strlen=function(){return(Module._strlen=Module.asm.strlen).apply(null,arguments)},Module._towupper=function(){return(Module._towupper=Module.asm.towupper).apply(null,arguments)};var _setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)};Module.__Znwm=function(){return(Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},Module.__ZdlPv=function(){return(Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},Module.dynCall_jiji=function(){return(Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},Module._orig$ts_parser_timeout_micros=function(){return(Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},Module._orig$ts_parser_set_timeout_micros=function(){return(Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)};var calledRun;function callMain(t){var e=Module._main;if(e){(t=t||[]).unshift(thisProgram);var r=t.length,n=stackAlloc(4*(r+1)),s=n>>2;t.forEach(_=>{HEAP32[s++]=allocateUTF8OnStack(_)}),HEAP32[s]=0;try{var o=e(r,n);return exitJS(o,!0),o}catch(_){return handleException(_)}}}Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)};var dylibsLoaded=!1;function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(t),postRun()))}t=t||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()))}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{r=e[0];const n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=(y,E,w)=>e.slice(y,w);else{if(typeof e!="function")throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let s=0,o=0;if(n&&n.includedRanges){s=n.includedRanges.length,o=C._calloc(s,SIZE_OF_RANGE);let y=o;for(let E=0;E<s;E++)marshalRange(y,n.includedRanges[E]),y+=SIZE_OF_RANGE}const _=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,o,s);if(!_)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");const d=new Tree(INTERNAL,_,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,d}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(typeof e!="function")throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,r,n,s){assertInternal(e),this[0]=r,this.language=n,this.textCallback=s}copy(){const e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),s=new Array(r);if(r>0){let o=n;for(let _=0;_<r;_++)s[_]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(n)}return s}}class Node{constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){const r=this.tree.language.fields.indexOf(e);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let s=0;s<e;s++)this._children[s]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let s=0;s<e;s++)this._namedChildren[s]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);const s=[],o=this.tree.language.types;for(let w=0,g=o.length;w<g;w++)e.includes(o[w])&&s.push(w);const _=C._malloc(SIZE_OF_INT*s.length);for(let w=0,g=s.length;w<g;w++)setValue(_+w*SIZE_OF_INT,s[w],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],_,s.length,r.row,r.column,n.row,n.column);const d=getValue(TRANSFER_BUFFER,"i32"),y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),E=new Array(d);if(d>0){let w=y;for(let g=0;g<d;g++)E[g]=unmarshalNode(this.tree,w),w+=SIZE_OF_NODE}return C._free(y),C._free(_),E}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);const e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoNextSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoParent(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,s=this.types.length;n<s;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,s=this.fields.length;n<s;n++){const o=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=o!==0?UTF8ToString(o):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){const n=lengthBytesUTF8(e),s=C._malloc(n+1);stringToUTF8(e,s,n+1);const o=C._ts_language_symbol_for_name(this[0],s,n,r);return C._free(s),o||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){const r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){const r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);const s=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!s){const l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,h=e.substr(c,100).split(`
`)[0];let f,b=h.match(QUERY_WORD_REGEX)[0];switch(l){case 2:f=new RangeError(`Bad node name '${b}'`);break;case 3:f=new RangeError(`Bad field name '${b}'`);break;case 4:f=new RangeError(`Bad capture name @${b}`);break;case 5:f=new TypeError(`Bad pattern structure at offset ${c}: '${h}'...`),b="";break;default:f=new SyntaxError(`Bad syntax at offset ${c}: '${h}'...`),b=""}throw f.index=c,f.length=b.length,C._free(n),f}const o=C._ts_query_string_count(s),_=C._ts_query_capture_count(s),d=C._ts_query_pattern_count(s),y=new Array(_),E=new Array(o);for(let l=0;l<_;l++){const c=C._ts_query_capture_name_for_id(s,l,TRANSFER_BUFFER),h=getValue(TRANSFER_BUFFER,"i32");y[l]=UTF8ToString(c,h)}for(let l=0;l<o;l++){const c=C._ts_query_string_value_for_id(s,l,TRANSFER_BUFFER),h=getValue(TRANSFER_BUFFER,"i32");E[l]=UTF8ToString(c,h)}const w=new Array(d),g=new Array(d),M=new Array(d),a=new Array(d),u=new Array(d);for(let l=0;l<d;l++){const c=C._ts_query_predicates_for_pattern(s,l,TRANSFER_BUFFER),h=getValue(TRANSFER_BUFFER,"i32");a[l]=[],u[l]=[];const f=[];let b=c;for(let P=0;P<h;P++){const N=getValue(b,"i32");b+=SIZE_OF_INT;const v=getValue(b,"i32");if(b+=SIZE_OF_INT,N===PREDICATE_STEP_TYPE_CAPTURE)f.push({type:"capture",name:y[v]});else if(N===PREDICATE_STEP_TYPE_STRING)f.push({type:"string",value:E[v]});else if(f.length>0){if(f[0].type!=="string")throw new Error("Predicates must begin with a literal value");const F=f[0].value;let D=!0;switch(F){case"not-eq?":D=!1;case"eq?":if(f.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(f.length-1));if(f[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${f[1].value}"`);if(f[2].type==="capture"){const U=f[1].name,L=f[2].name;u[l].push(function(W){let k,V;for(const i of W)i.name===U&&(k=i.node),i.name===L&&(V=i.node);return k===void 0||V===void 0||k.text===V.text===D})}else{const U=f[1].name,L=f[2].value;u[l].push(function(W){for(const k of W)if(k.name===U)return k.node.text===L===D;return!0})}break;case"not-match?":D=!1;case"match?":if(f.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${f.length-1}.`);if(f[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${f[1].value}".`);if(f[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${f[2].value}.`);const H=f[1].name,Z=new RegExp(f[2].value);u[l].push(function(U){for(const L of U)if(L.name===H)return Z.test(L.node.text)===D;return!0});break;case"set!":if(f.length<2||f.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${f.length-1}.`);if(f.some(U=>U.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');w[l]||(w[l]={}),w[l][f[1].value]=f[2]?f[2].value:null;break;case"is?":case"is-not?":if(f.length<2||f.length>3)throw new Error(`Wrong number of arguments to \`#${F}\` predicate. Expected 1 or 2. Got ${f.length-1}.`);if(f.some(U=>U.type!=="string"))throw new Error(`Arguments to \`#${F}\` predicate must be a strings.".`);const j=F==="is?"?g:M;j[l]||(j[l]={}),j[l][f[1].value]=f[2]?f[2].value:null;break;default:a[l].push({operator:F,operands:f.slice(1)})}f.length=0}}Object.freeze(w[l]),Object.freeze(g[l]),Object.freeze(M[l])}return C._free(n),new Query(INTERNAL,s,y,u,a,Object.freeze(w),Object.freeze(g),Object.freeze(M))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{const s=e;if(typeof process<"u"&&process.versions&&process.versions.node){const o=require$$0;r=Promise.resolve(o.readFileSync(s))}else r=fetch(s).then(o=>o.arrayBuffer().then(_=>{if(o.ok)return new Uint8Array(_);{const d=new TextDecoder("utf-8").decode(_);throw new Error(`Language.load failed with status ${o.status}.

${d}`)}}))}const n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(s=>n(s,{loadAsync:!0})).then(s=>{const o=Object.keys(s),_=o.find(y=>LANGUAGE_FUNCTION_REGEX.test(y)&&!y.includes("external_scanner_"));_||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(o,null,2)}`);const d=s[_]();return new Language(INTERNAL,d)})}}class Query{constructor(e,r,n,s,o,_,d,y){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=s,this.predicates=o,this.setProperties=_,this.assertedProperties=d,this.refutedProperties=y,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,r,n,s){r||(r=ZERO_POINT),n||(n=ZERO_POINT),s||(s={});let o=s.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o);const _=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),E=new Array(_);this.exceededMatchLimit=!!y;let w=0,g=d;for(let M=0;M<_;M++){const a=getValue(g,"i32");g+=SIZE_OF_INT;const u=getValue(g,"i32");g+=SIZE_OF_INT;const l=new Array(u);if(g=unmarshalCaptures(this,e.tree,g,l),this.textPredicates[a].every(c=>c(l))){E[w++]={pattern:a,captures:l};const c=this.setProperties[a];c&&(E[M].setProperties=c);const h=this.assertedProperties[a];h&&(E[M].assertedProperties=h);const f=this.refutedProperties[a];f&&(E[M].refutedProperties=f)}}return E.length=w,C._free(d),E}captures(e,r,n,s){r||(r=ZERO_POINT),n||(n=ZERO_POINT),s||(s={});let o=s.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o);const _=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),E=[];this.exceededMatchLimit=!!y;const w=[];let g=d;for(let M=0;M<_;M++){const a=getValue(g,"i32");g+=SIZE_OF_INT;const u=getValue(g,"i32");g+=SIZE_OF_INT;const l=getValue(g,"i32");if(g+=SIZE_OF_INT,w.length=u,g=unmarshalCaptures(this,e.tree,g,w),this.textPredicates[a].every(c=>c(w))){const c=w[l],h=this.setProperties[a];h&&(c.setProperties=h);const f=this.assertedProperties[a];f&&(c.assertedProperties=f);const b=this.refutedProperties[a];b&&(c.refutedProperties=b),E.push(c)}}return C._free(d),E}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){const n=r-e;let s=t.textCallback(e,null,r);for(e+=s.length;e<r;){const o=t.textCallback(e,null,r);if(!(o&&o.length>0))break;e+=o.length,s+=o}return e>r&&(s=s.slice(0,n)),s}function unmarshalCaptures(t,e,r,n){for(let s=0,o=n.length;s<o;s++){const _=getValue(r,"i32"),d=unmarshalNode(e,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[s]={name:t.captureNames[_],node:d}}return r}function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}function unmarshalNode(t,e=TRANSFER_BUFFER){const r=getValue(e,"i32");if(r===0)return null;const n=getValue(e+=SIZE_OF_INT,"i32"),s=getValue(e+=SIZE_OF_INT,"i32"),o=getValue(e+=SIZE_OF_INT,"i32"),_=getValue(e+=SIZE_OF_INT,"i32"),d=new Node(INTERNAL,t);return d.id=r,d.startIndex=n,d.startPosition={row:s,column:o},d[0]=_,d}function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32")}function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}function unmarshalPoint(t){return{row:getValue(t,"i32"),column:getValue(t+SIZE_OF_INT,"i32")}}function marshalRange(t,e){marshalPoint(t,e.startPosition),marshalPoint(t+=SIZE_OF_POINT,e.endPosition),setValue(t+=SIZE_OF_POINT,e.startIndex,"i32"),setValue(t+=SIZE_OF_INT,e.endIndex,"i32"),t+=SIZE_OF_INT}function unmarshalRange(t){const e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32"),t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32"),e}function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}for(const t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();module.exports=TreeSitter})(treeSitter);var treeSitterExports=treeSitter.exports;const TreeSitterParser=getDefaultExportFromCjs(treeSitterExports),editor="_editor_1wtol_6",symbol="_symbol_1wtol_12",punctuation$1="_punctuation_1wtol_21",propertyIdentifier="_propertyIdentifier_1wtol_24",identifier="_identifier_1wtol_27",string$1="_string_1wtol_30",comment$1="_comment_1wtol_33",keyword$1="_keyword_1wtol_36",styles$1={editor,symbol,punctuation:punctuation$1,propertyIdentifier,identifier,string:string$1,comment:comment$1,keyword:keyword$1};async function registerLanguage(t){try{return new(await Object.assign({"./javascript/language.ts":()=>__vitePreload(()=>import("./language-46bf59bb.js"),["assets/language-46bf59bb.js","assets/language-de8f0870.js","assets/index-5bcd9038.js","assets/index-0aeed6f0.css"]),"./language.ts":()=>__vitePreload(()=>import("./language-de8f0870.js"),["assets/language-de8f0870.js","assets/index-5bcd9038.js","assets/index-0aeed6f0.css"]),"./markdown/language.ts":()=>__vitePreload(()=>import("./language-c4193efa.js"),["assets/language-c4193efa.js","assets/language-de8f0870.js","assets/index-5bcd9038.js","assets/index-0aeed6f0.css"]),"./plaintext/language.ts":()=>__vitePreload(()=>import("./language-06fe3c05.js"),["assets/language-06fe3c05.js","assets/language-de8f0870.js","assets/index-5bcd9038.js","assets/index-0aeed6f0.css"]),"./typescript/language.ts":()=>__vitePreload(()=>import("./language-cb0c7bdc.js"),["assets/language-cb0c7bdc.js","assets/language-de8f0870.js","assets/index-5bcd9038.js","assets/index-0aeed6f0.css"])})[`./${t}/language.ts`]()).default}catch{return null}}const CodeStudioLanguages={txt:{language:"plaintext",parser:registerLanguage("plaintext")},js:{language:"javascript",parser:registerLanguage("javascript")},ts:{language:"typescript",parser:registerLanguage("typescript")},md:{language:"markdown",parser:registerLanguage("markdown")}},token="_token_m9n2y_6",other="_other_m9n2y_40",parameter="_parameter_m9n2y_50",type="_type_m9n2y_55",variable="_variable_m9n2y_60",string="_string_m9n2y_65",number="_number_m9n2y_70",punctuation="_punctuation_m9n2y_75",comment="_comment_m9n2y_80",keyword="_keyword_m9n2y_85",operator="_operator_m9n2y_90",xmlTag="_xmlTag_m9n2y_95",xmlAttributeKey="_xmlAttributeKey_m9n2y_100",xmlAttributeValue="_xmlAttributeValue_m9n2y_105",parseFailure="_parseFailure_m9n2y_110",tokenParseFailure="_tokenParseFailure_m9n2y_1",styles={token,other,function:"_function_m9n2y_45",parameter,type,variable,string,number,punctuation,comment,keyword,operator,xmlTag,xmlAttributeKey,xmlAttributeValue,parseFailure,tokenParseFailure};var TokenType=(t=>(t[t.STRING=1]="STRING",t[t.NUMBER=2]="NUMBER",t[t.KEYWORD=3]="KEYWORD",t[t.PUNCTUATION=4]="PUNCTUATION",t[t.OPERATOR=5]="OPERATOR",t[t.COMMENT=6]="COMMENT",t[t.PARAMETER=7]="PARAMETER",t[t.VARIABLE=8]="VARIABLE",t[t.FUNCTION=9]="FUNCTION",t[t.TYPE=10]="TYPE",t[t.OTHER=11]="OTHER",t[t.PARSE_FAILURE=12]="PARSE_FAILURE",t[t.XML_TAG=13]="XML_TAG",t[t.XML_ATTRIBUTE_KEY=14]="XML_ATTRIBUTE_KEY",t[t.XML_ATTRIBUTE_VALUE=15]="XML_ATTRIBUTE_VALUE",t))(TokenType||{});class Token{constructor(e,r,n,s){x(this,"type");x(this,"content");x(this,"position");x(this,"overrides");return this.content=e,this.type=r,this.position=n,this.overrides=s,this}render(){var r,n;const e=document.createElement("div");switch(this.type){case 11:e.classList.add(styles.other);break;case 9:e.classList.add(styles.function);break;case 7:e.classList.add(styles.parameter);break;case 8:e.classList.add(styles.variable);break;case 10:e.classList.add(styles.type);break;case 5:e.classList.add(styles.operator);break;case 4:e.classList.add(styles.punctuation);break;case 3:e.classList.add(styles.keyword);break;case 6:e.classList.add(styles.comment);break;case 1:console.log(this),e.classList.add(styles.string);break;case 2:e.classList.add(styles.number);break;case 13:e.classList.add(styles.xmlTag);break;case 14:e.classList.add(styles.xmlAttributeKey);break;case 15:e.classList.add(styles.xmlAttributeValue);break;case 12:e.classList.add(styles.parseFailure);break;default:e.innerText=`<<${this.type}>>`,e.classList.add(styles.parseFailure);break}return e.classList.add(styles.token),e.innerText+=this.content,(r=this.overrides)!=null&&r.background&&(e.style.backgroundColor=this.overrides.background),(n=this.overrides)!=null&&n.color&&(e.style.color=this.overrides.color),e.outerHTML}}const TREESITTER_WASM="/assets/tree-sitter-17382e1a.wasm",PLAINTEXT_TREESITTER_LANGUAGE="/assets/markdown-d34870aa.wasm";class CodeStudioEditor{constructor(e){x(this,"keyboardInputManager");x(this,"htmlContainer");x(this,"isDevMode",!0);return this.keyboardInputManager=new KeyboardInputManager,this.htmlContainer=e,this}async loadRawCode(e,r,n){var _;await TreeSitterParser.init({locateFile(){return TREESITTER_WASM}});const s=new TreeSitterParser,o=CodeStudioLanguages[r];return console.log("Loading parser for fileType:",r,`(${o.language})`),s.setLanguage(await TreeSitterParser.Language.load(((_=await o.parser)==null?void 0:_.treesitterLanguage)||PLAINTEXT_TREESITTER_LANGUAGE)),this.renderParsedString(s.parse(n),o)}async renderParsedString(e,r){this.isDevMode?this.htmlContainer.innerHTML="<div>Using Parser: "+r.language+"</div>":this.htmlContainer.innerHTML="",this.htmlContainer.innerHTML+='<pre><code id="cs-text-output"></code></pre>';const n=document.getElementById("cs-text-output");n.classList.add(styles$1.editor);const s=[];if(await r.parser===null)return n.innerHTML=`<div><h1>Unable to find parser for language: ${r.language}</h1></div>`,e;async function o(_,d){var w;if(s.indexOf(d)!==-1&&console.error("CIRCULAR REFERENCE"),s.push(d),d.childCount>0){const g=document.createElement("span");_.appendChild(g);for(let M=0;M<d.childCount;M++)await o(g,d.child(M));return}const y=(w=await r.parser)==null?void 0:w.tokens,E=new Token(d.text,(y==null?void 0:y[d.type])||d.type,{col:d.startPosition.column,row:d.startPosition.row});_.innerHTML+=E.render()}return await o(n,e.rootNode),e}}export{CodeStudioEditor as C,PLAINTEXT_TREESITTER_LANGUAGE as P,Token as T,CodeStudioLanguages as a,TokenType as b};
