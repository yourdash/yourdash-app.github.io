import{j as e,m as w,b as h,I as m,u as j,Y as t,f as g,r as p,c,S,O as N,B as k,d as C,R as P,a as r}from"./index-66ab9f12.js";import{R as D}from"./Row-4ef41ff1.js";import{D as B}from"./DropdownButton-6dfd1938.js";const z=({setValue:s,value:n})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:`${w.component} ${n&&"bg-green-400"}`,onClick:()=>{s(!n)},children:e.jsx("div",{className:w.thumb,style:{...n?{left:"calc(100% + 0.25rem)",translate:"-100%"}:{left:"-0.25rem",translate:"0%"}}})})}),b=({children:s,title:n,description:a,icon:o,onClick:i})=>e.jsxs(h,{onClick:i,className:"flex gap-2 items-center w-full",children:[e.jsx(m,{className:"aspect-square h-10",icon:o}),e.jsxs("div",{className:"mr-auto",children:[e.jsx("h2",{className:"font-semibold text-container-fg text-3xl -mb-1",children:n}),e.jsx("span",{className:"font-light text-container-tertiary-fg text-sm",children:a})]}),s]}),d=({title:s,description:n,icon:a,href:o,external:i})=>{const f=j();return e.jsx(b,{onClick:()=>{i?window.location.href=o:f(o)},icon:a,title:s,description:n,children:e.jsx(m,{className:"aspect-square h-8",icon:i?t.Link:t.ChevronRight})})},u=({children:s,title:n,noBack:a})=>{const o=j();return e.jsxs("main",{className:"flex flex-col items-center ml-auto mr-auto w-full max-w-6xl pl-4 pr-4",children:[e.jsxs("section",{className:"flex items-center w-full gap-2 pt-8 pb-8 pl-4 pr-4 animate__animated animate__fadeIn animate__duration_250ms",children:[!a&&e.jsx(g,{onClick:()=>{o("..")},icon:t.ChevronLeft}),e.jsx("h1",{className:"font-bold text-container-fg text-4xl w-full text-left",children:n})]}),e.jsx("div",{className:"grid grid-cols-1 w-full xl:grid-cols-2 gap-2 animate__animated animate__fadeIn animate__100ms",children:s})]})},L=()=>e.jsxs(u,{noBack:!0,title:"YourDash Settings",children:[e.jsx(d,{href:"/app/a/settings/profile",description:"Manage your user profile",title:"Profile",icon:t.Person}),e.jsx(d,{href:"/app/a/settings/personalization",description:"Sample text",title:"Personalization",icon:t.Paintbrush}),e.jsx(d,{href:"/app/a/settings/session",description:"Sample text",title:"Login sessions",icon:t.Login}),e.jsx(d,{href:"/app/a/settings/accessibility",description:"Sample text",title:"Accessibility",icon:t.Accessibility}),e.jsx(d,{href:"/app/a/settings/admin",description:"Sample text",title:"Admin tools",icon:t.Tools})]});var x;(function(s){s[s.web=0]="web",s[s.desktop=1]="desktop",s[s.cli=2]="cli",s[s.external=3]="external"})(x||(x={}));const $=()=>{const[s,n]=p.useState(0),[a,o]=p.useState([]),[i,f]=p.useState([]);return p.useEffect(()=>{c.getJson("/core/sessions",l=>{o(l.sessions)}),c.getJson("/core/personal-server-accelerator/sessions",l=>{f(l.sessions)})},[s]),e.jsxs("div",{className:"h-full overflow-auto",children:[e.jsx("h1",{className:"font-bold text-container-fg text-4xl tracking-wide pb-4 pt-4 pl-6 pr-6 bg-container-bg",children:"YourDash Settings | Sessions"}),e.jsxs("main",{className:"ml-auto mr-auto w-full max-w-5xl p-4",children:[e.jsx("h2",{className:"ml-auto mr-auto w-full max-w-5xl font-semibold text-4xl tracking-wide pb-2",children:"Sessions"}),e.jsx("section",{className:"gap-2 flex flex-wrap",children:a.map(l=>e.jsxs(h,{className:"p-0 overflow-hidden flex flex-grow flex-col min-w-[14rem]",children:[e.jsxs("div",{className:"font-semibold text-6xl text-container-fg pl-4 pt-2 pb-2 flex gap-4 w-full",children:[l.id,l.type===x.web&&e.jsx(m,{className:"aspect-square h-8 m-auto ml-0",icon:t.Browser}),l.type===x.cli&&e.jsx(m,{className:"aspect-square h-8 m-auto ml-0",icon:t.Terminal}),l.type===x.desktop&&e.jsx(m,{className:"aspect-square h-8 m-auto ml-0",icon:t.DeviceDesktop}),l.type===x.external&&e.jsx(m,{className:"aspect-square h-8 m-auto ml-0",icon:t.Question})]}),e.jsxs("div",{className:"w-full bg-container-secondary-bg pl-4 p-3 flex text-container-fg items-center justify-between",children:[e.jsxs("span",{children:[l.type===x.web&&"Web",l.type===x.cli&&"Cli",l.type===x.desktop&&"Desktop",l.type===x.external&&"External"]}),e.jsx(g,{icon:t.X,onClick:()=>{c.deleteJson(`/core/session/${l.id}`,y=>{n(s+1)})}})]})]},l.id))}),e.jsx("h2",{className:"ml-auto mr-auto w-full max-w-5xl font-semibold text-4xl tracking-wide pb-2 pt-8",children:"PSA Supported Sessions"}),e.jsx("section",{className:"gap-2 flex flex-wrap",children:i.map(l=>e.jsxs(h,{className:"p-0 overflow-hidden flex flex-grow flex-col min-w-[14rem]",children:[e.jsxs("div",{className:"font-semibold text-6xl text-container-fg pl-4 pt-2 pb-2 flex gap-4 w-full",children:[l.id,e.jsx(m,{className:"aspect-square h-8 m-auto ml-0",icon:t.DeviceDesktop})]}),e.jsxs("div",{className:"w-full bg-container-secondary-bg pl-4 p-3 flex text-container-fg justify-between items-center",children:[e.jsx("span",{children:"Desktop"}),e.jsx(g,{icon:t.X,onClick:()=>{c.deleteJson(`/core/session/${l.id}`,y=>{n(s+1)})}})]})]},l.id))})]})]})},A=()=>{const s=j();return e.jsxs("main",{className:"grid grid-cols-1 grid-rows-[auto,1fr] md:grid-rows-none md:grid-cols-[auto,1fr] h-full w-full bg-bg",children:[e.jsx(S,{title:"Settings",items:[{icon:t.Home,label:"Home",onClick(){s("/app/a/settings/")}},{icon:t.Paintbrush,label:"Personalization",onClick(){s("/app/a/settings/personalization")}},{icon:t.Login,label:"Login sessions",onClick(){s("/app/a/settings/session")}},{icon:t.Accessibility,label:"Accessibility",onClick(){s("/app/a/settings/accessibility")}},{icon:t.Tools,label:"Admin tools",onClick(){s("/app/a/settings/admin")}},{icon:t.Code,label:"Developer tools",onClick(){s("/app/a/settings/developer")}}]}),e.jsx(N,{})]})},q=()=>{const[s,n]=p.useState([]),[a,o]=p.useState(null);return p.useEffect(()=>{c.getJson("/core/personal-server-accelerator/sessions",i=>{n(i.sessions)})},[]),e.jsxs("div",{children:[e.jsx("h2",{children:"Personal Server Accelerator DEBUGGER"}),e.jsxs("main",{children:[e.jsxs("section",{children:[e.jsx("h2",{children:`Select a session: Session ${(a==null?void 0:a.id)||0} selected`}),e.jsx(D,{children:s.map(i=>e.jsx(h,{onClick:()=>{o(i)},className:"p-0 overflow-hidden flex flex-grow flex-col min-w-[14rem]",children:e.jsxs("div",{className:"font-semibold text-6xl text-container-fg pl-4 pt-2 pb-2 flex gap-4 w-full",children:[i.id,e.jsx(m,{className:"aspect-square h-8 m-auto ml-0",icon:t.DeviceDesktop})]})},i.id))})]}),e.jsx(k,{onClick:()=>{c.getJson(`/app/settings/debug/psa/update/${(a==null?void 0:a.id)||0}`,i=>0)},children:"Trigger update"})]})]})},R=()=>e.jsxs("div",{className:"h-full overflow-auto",children:[e.jsx("h1",{className:"font-bold text-container-fg text-4xl tracking-wide pb-4 pt-4 pl-6 pr-6 bg-container-bg",children:"YourDash Settings | Developer"}),e.jsx("main",{className:"ml-auto mr-auto w-full max-w-5xl p-4",children:e.jsx(q,{})})]}),_=()=>e.jsxs(u,{title:"Personalization",children:[e.jsx(d,{href:"/app/a/settings/personalization/panel",description:"Customize your panel",title:"Panel",icon:t.Paintbrush}),e.jsx(d,{href:"/app/a/settings/personalization/dashboard",description:"Customize your dashboard",title:"Dashboard",icon:t.Paintbrush}),e.jsx(d,{href:"/app/a/settings/personalization/profile",description:"Personalize your profile",title:"Profile",icon:t.Login}),e.jsx(d,{href:"/app/a/settings/personalization/theme",description:"Customize the look of YourDash",title:"Theme",icon:t.Accessibility})]}),I=()=>e.jsxs(u,{title:"Admin tools",children:[e.jsx(d,{href:"https://google.com",description:"Sample text",title:"Sample text",icon:t.Paintbrush,external:!0}),e.jsx(d,{href:"/app/a/settings/session",description:"Sample text",title:"Sample text",icon:t.Login,external:!0}),e.jsx(d,{href:"/app/a/settings/accessibility",description:"Sample text",title:"Sample text",icon:t.Accessibility}),e.jsx(d,{href:"/app/a/settings/admin",description:"Sample text",title:"Sample text",icon:t.Tools})]}),J=({value:s,setValue:n,...a})=>e.jsx(b,{...a,children:e.jsx(z,{setValue:o=>n(o),value:s})}),G=()=>{const[s,n]=p.useState(c.userDB.get("dash:useBrowserLayout")||!1);return e.jsx(u,{title:"Dashboard personalization",children:e.jsx(J,{title:"Use browser layout",icon:t.Browser,description:'Use the "browser" layout instead of the "dashboard" layout',value:s,setValue:a=>{c.userDB.set("dash:useBrowserLayout",a),n(a)}})})},v=({value:s,setValue:n,options:a,...o})=>e.jsx(b,{...o,children:e.jsx(B,{items:a.map(i=>({name:i.name,onClick:()=>{n(i.value)}})),children:s})}),T=()=>{const[s,n]=p.useState(c.userDB.get("core:panel:size")),[a,o]=p.useState(c.userDB.get("core:panel:side"));return e.jsxs(u,{title:"Panel",children:[e.jsx(v,{title:"Panel Size",icon:t.Gear,description:"Set the size of the panel and it's widgets",options:[{value:"small",name:"Small"},{value:"medium",name:"Medium (Default)"},{value:"large",name:"Large"}],value:s||"medium",setValue:i=>{n(i),c.userDB.set("core:panel:size",i),window.__yourdashCorePanelReload()}}),e.jsx(v,{title:"Panel Side",icon:t.Gear,description:"Set the side that the panel is on the screen",options:[{value:"top",name:"Top"},{value:"right",name:"Right"},{value:"bottom",name:"Bottom"},{value:"left",name:"Left (Default)"}],value:a||"left",setValue:i=>{o(i),c.userDB.set("core:panel:side",i),window.__yourdashCorePanelReload()}})]})},V="_avatar_1804c_6",M={avatar:V},X=({name:s,username:n,avatar:a,bio:o,url:i})=>e.jsxs(h,{children:[e.jsx("img",{src:a,alt:"",className:M.avatar}),e.jsxs("div",{children:[e.jsx("span",{children:s.first}),e.jsx("span",{children:s.last})]}),e.jsxs("div",{children:["@",n]}),e.jsx("div",{children:o}),e.jsx("a",{href:i,children:i})]}),F=()=>{const[s,n]=C.useState({name:{first:"Admin",last:"Istrator"},avatar:"abc",username:"admin",bio:"This is the user's sample bio",url:"https://github.com/yourdash-app/yourdash"});return p.useEffect(()=>{c.getText("/core/user/current/avatar/original",a=>{n({...s,avatar:`${c.getInstanceUrl()}${a}`})})},[]),e.jsx(u,{title:"Profile",children:e.jsx(X,{name:s.name,avatar:s.avatar,username:s.username,bio:s.bio,url:s.url})})},K=()=>e.jsx(P,{children:e.jsxs(r,{element:e.jsx(A,{}),children:[e.jsx(r,{index:!0,element:e.jsx(L,{})}),e.jsx(r,{path:"profile",children:e.jsx(r,{index:!0,element:e.jsx(F,{})})}),e.jsxs(r,{path:"personalization",children:[e.jsx(r,{index:!0,element:e.jsx(_,{})}),e.jsx(r,{path:"dashboard",element:e.jsx(G,{})}),e.jsx(r,{path:"panel",element:e.jsx(T,{})})]}),e.jsx(r,{path:"session",children:e.jsx(r,{index:!0,element:e.jsx($,{})})}),e.jsx(r,{path:"accessibility"}),e.jsx(r,{path:"admin",children:e.jsx(r,{index:!0,element:e.jsx(I,{})})}),e.jsx(r,{path:"developer",children:e.jsx(r,{index:!0,element:e.jsx(R,{})})})]})});export{K as default};
