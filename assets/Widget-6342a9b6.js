import{u as x,j as e,c as r,b as j,r as u,d as N,I as d,Y as m,e as k,T as I,f,g as v}from"./index-5bcd9038.js";import{R as L}from"./RightClickMenu-c4c14159.js";const B="_launcherButton_cko9i_6",y="_widgetContainer_cko9i_11",$={launcherButton:B,widgetContainer:y},S="_applicationLauncher_2bxcq_6",T="_content_2bxcq_20",P="_sideTop_2bxcq_34",R="_sideRight_2bxcq_57",A="_sideBottom_2bxcq_81",q="_sideLeft_2bxcq_104",E="_invisible_2bxcq_128",D="_footer_2bxcq_133",F="_logoutButton_2bxcq_141",l={applicationLauncher:S,content:T,sideTop:P,sideRight:R,sideBottom:A,sideLeft:q,invisible:E,footer:D,logoutButton:F},J="_grid_1ok98_6",U="_itemIcon_1ok98_14",z="_itemLabel_1ok98_21",O="_item_1ok98_14",Q="_itemContent_1ok98_35",w={grid:J,itemIcon:U,itemLabel:z,item:O,itemContent:Q},G=({applications:o})=>{const s=x();return e.jsx("section",{className:w.grid,children:o.map(n=>e.jsx(L,{items:[{label:"Pin To Panel",onClick(){r.postJson("/core/panel/quick-shortcuts/create",{name:n.name},()=>{var t;return(t=window.__yourdashCorePanelQuickShortcutsReload)==null||t.call(window),0})}},{label:"Open In New Tab",onClick(){return window.open(`${window.location.origin}${window.location.pathname}#/app/a/${n.name}`,"_blank"),0}}],className:w.item,children:e.jsxs(j,{onClick:()=>{s(`/app/a/${n.name}`)},showBorder:!0,className:w.itemContent,children:[e.jsx("img",{loading:"lazy",className:w.itemIcon,src:`${r.getInstanceUrl()}${n.icon}`,draggable:!1,alt:""}),e.jsx("span",{className:w.itemLabel,children:n.displayName})]})},n.name))})},M="_searchBar_7a6r9_6",V={searchBar:M},Y="_grid_mw6bn_6",K="_itemIcon_mw6bn_14",W="_itemLabel_mw6bn_21",H="_item_mw6bn_14",X="_itemContent_mw6bn_35",p={grid:Y,itemIcon:K,itemLabel:W,item:H,itemContent:X},Z=({applications:o})=>{const s=x();return e.jsx("section",{className:p.grid,children:o.map(n=>e.jsx(L,{items:[{label:"Pin To Panel",onClick(){r.postJson("/core/panel/quick-shortcuts/create",{name:n.name},()=>{var t;return(t=window.__yourdashCorePanelQuickShortcutsReload)==null||t.call(window),0})}},{label:"Open In New Tab",onClick(){return window.open(`${window.location.origin}${window.location.pathname}#/app/a/${n.name}`,"_blank"),0}}],className:p.item,onClick:()=>{s(`/app/a/${n.name}`)},children:e.jsxs("div",{className:p.itemContent,children:[e.jsx("img",{loading:"lazy",className:p.itemIcon,src:`${r.getInstanceUrl()}${n.icon}`,draggable:!1,alt:""}),e.jsx("span",{className:p.itemLabel,children:n.displayName})]})},n.name))})},ee=({items:o,className:s,icon:n})=>{const t=u.useContext(N),[_,i]=u.useState(!1);return e.jsx(d,{icon:n,className:s,onClick:a=>{a.stopPropagation(),a.preventDefault();const c=a.currentTarget.getBoundingClientRect();if(_){t(0,0,c.width,c.height,!1,[]),i(!1);return}t(c.left,c.bottom,c.width,c.height,!0,o.map(g=>({label:g.label,onClick:()=>{g.onClick()},shortcut:g.shortcut}))),i(!0);const h=g=>{g.preventDefault(),t(0,0,c.width,c.height,!1,[]),i(!1),window.removeEventListener("click",h),window.removeEventListener("contextmenu",h)};window.addEventListener("click",h),window.addEventListener("contextmenu",h)}})},ne="_grid_bno12_6",te="_itemIcon_bno12_14",oe="_itemLabel_bno12_21",se="_item_bno12_14",ie="_itemContent_bno12_35",b={grid:ne,itemIcon:te,itemLabel:oe,item:se,itemContent:ie},ae=({applications:o})=>{const s=x();return e.jsx("section",{className:b.grid,children:o.map(n=>e.jsx(L,{items:[{label:"Pin To Panel",onClick(){r.postJson("/core/panel/quick-shortcuts/create",{name:n.name},()=>{var t;return(t=window.__yourdashCorePanelQuickShortcutsReload)==null||t.call(window),0})}},{label:"Open In New Tab",onClick(){return window.open(`${window.location.origin}${window.location.pathname}#/app/a/${n.name}`,"_blank"),0}}],className:b.item,onClick:()=>{s(`/app/a/${n.name}`)},children:e.jsxs("div",{className:b.itemContent,children:[e.jsx("img",{loading:"lazy",className:b.itemIcon,src:`${r.getInstanceUrl()}${n.icon}`,draggable:!1,alt:""}),e.jsx("span",{className:b.itemLabel,children:n.displayName}),e.jsx(ee,{className:"ml-auto",items:[{label:"Pin To Panel",onClick(){r.postJson("/core/panel/quick-shortcuts/create",{name:n.name},()=>{var t;return(t=window.__yourdashCorePanelQuickShortcutsReload)==null||t.call(window),0})}},{label:"Open In New Tab",onClick(){return window.open(`${window.location.origin}${window.location.pathname}#/app/a/${n.name}`,"_blank"),0}}],icon:m.ThreeBars})]})},n.name))})};let C=[];const ce=({apps:o,layout:s})=>{const n=x(),[t,_]=k.useState(o);return u.useEffect(()=>{_(o)},[o]),e.jsxs(e.Fragment,{children:[e.jsx(I,{accessibleName:"Search Applications",placeholder:"Search Applications",className:f(V.searchBar,"top-0 sticky z-10"),onKeyDown:i=>{i.key==="Enter"&&C.length===1&&n(`/app/a/${C[0].name}`)},onChange:i=>{C=o.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())||a.description.toLowerCase().includes(i.toLowerCase())||a.displayName.toLowerCase().includes(i.toLowerCase())),_(C)},icon:m.Search}),s==="large-grid"&&e.jsx(G,{applications:t}),s==="small-grid"&&e.jsx(Z,{applications:t}),s==="list"&&e.jsx(ae,{applications:t})]})},re=({side:o,visible:s})=>{var c;const n=x(),[t,_]=u.useState([]),[i,a]=k.useState("large-grid");return u.useEffect(()=>{r.getJson("/core/panel/applications",h=>{_(h)})},[]),e.jsxs("div",{className:f(l.applicationLauncher,o==="top"&&`${l.sideTop} animate__slideInLeft`,o==="right"&&`${l.sideRight} animate__slideInDown`,o==="bottom"&&`${l.sideBottom} animate__slideInLeft`,o==="left"&&`${l.sideLeft} animate__slideInDown`,"animate__animated animate__duration_500ms",!s&&l.invisible),children:[e.jsx("div",{className:l.content,children:e.jsx(ce,{apps:t,layout:i})}),e.jsxs("section",{className:l.footer,children:[e.jsx(d,{className:l.logoutButton,icon:m.Logout,onClick:()=>{r.logout(),n("/login")}}),e.jsxs("div",{children:[e.jsx("img",{src:"",alt:""}),e.jsx(d,{icon:m.Person,"aria-label":"User Profile Settings"})]}),e.jsx("span",{children:((c=r.userDB.get("user:name"))==null?void 0:c.first)||"Unknown First Name"}),e.jsx(d,{className:"ml-auto",icon:m.Filter,onClick:()=>{a("small-grid")}}),e.jsx(d,{icon:m.Filter,onClick:()=>{a("large-grid")}}),e.jsx(d,{icon:m.Filter,onClick:()=>{a("list")}})]})]})},le=u.memo(re),ue=({side:o})=>{const[s,n]=k.useState(!1),t=v();return u.useEffect(()=>{n(!1)},[t]),e.jsxs("div",{className:$.widgetContainer,children:[e.jsx(d,{icon:m.AppLauncher,className:$.launcherButton,onClick:()=>n(!s)}),e.jsx(le,{side:o,visible:s})]})};export{ue as default};
