import{j as e,b as g,h as _,u as I,Y as l,I as C,H as $,r as j,c,S as v,n as w,m as h,O as F,e as N,C as P,T as f,t as D,B as L,R as V,a as r}from"./index-5bcd9038.js";import{D as T}from"./DropdownButton-b3e2b591.js";import{R as z}from"./Row-2b29ad51.js";import{T as U}from"./TextBox-56383e45.js";const A="_component_1oyy3_6",M="_title_1oyy3_14",R="_textContainer_1oyy3_21",b={component:A,title:M,textContainer:R},B=({children:s,title:t,description:a,icon:i,onClick:n})=>e.jsxs(g,{onClick:n,className:b.component,children:[e.jsx(_,{className:"aspect-square h-10",icon:i}),e.jsxs("div",{className:b.textContainer,children:[e.jsx("h2",{className:b.title,children:t}),e.jsx("span",{className:b.description,children:a})]}),s]}),p=({title:s,description:t,icon:a,href:i,external:n})=>{const m=I();return e.jsx(B,{onClick:()=>{n?window.location.href=i:m(i)},icon:a,title:s,description:t,children:e.jsx(_,{className:"aspect-square h-8",icon:n?l.Link:l.ChevronRight})})},d=({children:s,title:t,noBack:a})=>e.jsxs("main",{className:"flex flex-col items-center ml-auto mr-auto w-full max-w-6xl pl-4 pr-4 min-h-full",children:[e.jsxs("section",{className:"flex items-center w-full gap-2 pt-8 pb-8 pl-4 pr-4 animate__animated animate__fadeIn animate__duration_250ms",children:[!a&&e.jsx(C,{onClick:()=>{window.history.back()},icon:l.ChevronLeft}),e.jsx($,{level:2,children:t})]}),e.jsx("div",{className:"grid grid-cols-1 w-full xl:grid-cols-2 gap-2 animate__animated animate__fadeIn animate__100ms h-full overflow-x-hidden overflow-y-auto auto-rows-max",children:s})]}),J=()=>e.jsxs(d,{noBack:!0,title:"YourDash Settings",children:[e.jsx(p,{href:"/app/a/settings/profile",description:"Manage your user profile",title:"Profile",icon:l.Person}),e.jsx(p,{href:"/app/a/settings/personalization",description:"Customize your experience",title:"Personalization",icon:l.Paintbrush}),e.jsx(p,{href:"/app/a/settings/session",description:"Manage your login sessions",title:"Login sessions",icon:l.Login}),e.jsx(p,{href:"/app/a/settings/accessibility",description:"Toggle QOL features",title:"Accessibility",icon:l.Accessibility}),e.jsx(p,{href:"/app/a/settings/admin",description:"Hiya, Admin ðŸ‘‹",title:"Admin tools",icon:l.Tools}),e.jsx(p,{href:"/app/a/settings/developer",description:"For development purposes only",title:"Developer tools",icon:l.Tools})]});var x=(s=>(s[s.web=0]="web",s[s.desktop=1]="desktop",s[s.cli=2]="cli",s[s.external=3]="external",s))(x||{});const q=()=>{const[s,t]=j.useState(0),[a,i]=j.useState([]),[n,m]=j.useState([]);return j.useEffect(()=>{c.getJson("/user/sessions",o=>{i(o.sessions)}),c.getJson("/core/personal-server-accelerator/sessions",o=>{m(o.sessions)})},[s]),e.jsx(d,{title:"Sessions",noBack:!1,children:e.jsx("main",{className:"col-span-2 p-4",children:e.jsx("section",{className:"gap-2 flex flex-wrap",children:a.map(o=>e.jsxs(g,{className:"p-0 overflow-hidden flex flex-grow flex-col min-w-[14rem]",children:[e.jsxs("div",{className:"font-semibold text-6xl text-container-fg pl-4 pt-2 pb-2 flex gap-4 w-full",children:[o.sessionId,e.jsx(_,{className:"aspect-square h-8 m-auto ml-0",icon:o.type===x.web?l.Browser:o.type===x.cli?l.Terminal:o.type===x.desktop?l.DeviceDesktop:l.Question})]}),e.jsxs("div",{className:"w-full bg-container-secondary-bg pl-4 p-3 flex text-container-fg items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{children:["Type: ",o.type===x.web&&"Web",o.type===x.cli&&"Cli",o.type===x.desktop&&"Desktop",o.type===x.external&&"External"]}),e.jsxs("div",{children:["Supports PSA: ",(!!o.isNodeJS).toString()]})]}),e.jsx(C,{icon:l.X,onClick:()=>{c.deleteJson(`/core/session/${o.sessionId}`,()=>{t(s+1)})}})]})]},o.sessionId))})})})},W=()=>{const s=I();return e.jsxs("main",{className:"grid grid-cols-1 grid-rows-[auto,1fr] md:grid-rows-none md:grid-cols-[auto,1fr] h-full w-full bg-bg",children:[e.jsx(v,{defaultState:w.NormalMinimised,title:"Settings",items:[{type:h.Button,icon:l.Home,label:"Home",onClick(){s("/app/a/settings/")}},{type:h.Button,icon:l.Paintbrush,label:"Personalization",onClick(){s("/app/a/settings/personalization")}},{type:h.Button,icon:l.Login,label:"Login sessions",onClick(){s("/app/a/settings/session")}},{type:h.Button,icon:l.Accessibility,label:"Accessibility",onClick(){s("/app/a/settings/accessibility")}},{type:h.Button,icon:l.Tools,label:"Admin tools",onClick(){s("/app/a/settings/admin")}}]}),e.jsx(F,{})]})},G=()=>e.jsxs(d,{title:"Personalization",children:[e.jsx(p,{href:"/app/a/settings/personalization/panel",description:"Customize your panel",title:"Panel",icon:l.Paintbrush}),e.jsx(p,{href:"/app/a/settings/personalization/theme",description:"Customize the look of YourDash",title:"Theme",icon:l.Accessibility})]}),Q="_component_1vbjj_6",y={component:Q},X=({username:s,avatar:t,name:a})=>e.jsxs(g,{className:y.component,children:[e.jsx("img",{className:y.avatar,src:t,alt:"user's avatar"}),e.jsxs("div",{className:y.name,children:["name: ",a.first,", ",a.last]}),e.jsxs("div",{className:y.username,children:["username: ",s]})]}),E=()=>{const[s,t]=N.useState([]);return N.useEffect(()=>{t([{avatar:"",name:{first:"John",last:"Doe"},username:"johnd"},{avatar:"",name:{first:"Jane",last:"Doe"},username:"janed"}])}),e.jsx(e.Fragment,{children:s.map(a=>e.jsx(X,{username:a.username,avatar:a.avatar,name:a.name},a.username))})},K=()=>{const[s,t]=N.useState("usersView");switch(s){case"createUser":return e.jsx(e.Fragment,{children:"WIP"});case"usersView":return e.jsx(E,{});case"manageUser":return e.jsx(e.Fragment,{children:"WIP"})}},Z=()=>e.jsxs(d,{title:"Admin tools",children:[e.jsx(K,{}),e.jsx("section",{className:"w-full h-full flex flex-col items-center col-span-2",children:e.jsx(P,{})})]}),H="_component_13sji_6",Y="_thumb_13sji_17",k={component:H,thumb:Y},O=({setValue:s,value:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:`${k.component} ${t?"bg-green-400":"bg-red-400"}`,onClick:()=>{s(!t)},children:e.jsx("div",{className:k.thumb,style:{...t?{left:"calc(100% + 0.25rem)",translate:"-100%"}:{left:"-0.25rem",translate:"0%"}}})})}),ee=({value:s,setValue:t,...a})=>e.jsx(B,{...a,children:e.jsx(O,{setValue:i=>t(i),value:s})}),se=()=>{const[s,t]=j.useState(c.userDB.get("dash:useBrowserLayout")||!1);return e.jsx(d,{title:"Dashboard personalization",children:e.jsx(ee,{title:"Use browser layout",icon:l.Browser,description:'Use the "browser" layout instead of the "dashboard" layout',value:s,setValue:a=>{c.userDB.set("dash:useBrowserLayout",a),t(a)}})})},S=({value:s,setValue:t,options:a,...i})=>e.jsx(B,{...i,children:e.jsx(T,{items:a.map(n=>({label:n.label,onClick:()=>{t(n.value)}})),children:s})}),te=()=>{const[s,t]=j.useState(c.userDB.get("core:panel:size")),[a,i]=j.useState(c.userDB.get("core:panel:side"));return e.jsxs(d,{title:"Panel",children:[e.jsx(S,{title:"Panel Size",icon:l.Gear,description:"Set the size of the panel and it's widgets",options:[{value:"small",label:"Small"},{value:"medium",label:"Medium (Default)"},{value:"large",label:"Large"}],value:s||"medium",setValue:n=>{t(n),c.userDB.set("core:panel:size",n),window.__yourdashCorePanelReload()}}),e.jsx(S,{title:"Panel Side",icon:l.Gear,description:"Set the side that the panel is on the screen",options:[{value:"top",label:"Top"},{value:"right",label:"Right"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left (Default)"}],value:a||"left",setValue:n=>{i(n),c.userDB.set("core:panel:side",n),window.__yourdashCorePanelReload()}})]})},ae=({link:s,links:t,setLinks:a})=>e.jsxs(z,{className:"child:flex-grow",children:[e.jsx(f,{onChange:i=>{s.label=i,a(t)},defaultValue:s.label,label:"Label",accessibleName:"Label"}),e.jsx(f,{onChange:i=>{s.url=i,a(t)},defaultValue:s.url,label:"Url",accessibleName:"Url"}),e.jsx(C,{className:"aspect-square",icon:l.Dash,onClick:()=>{a(t==null?void 0:t.filter(i=>i!==s))}})]},s.url+s.label),ne="_component_8ik0l_6",le="_content_8ik0l_15",ie="_name_8ik0l_22",oe="_fullName_8ik0l_28",re="_username_8ik0l_33",ce="_avatar_8ik0l_40",me="_link_8ik0l_47",ue="_icon_8ik0l_63",de="_bio_8ik0l_67",u={component:ne,content:le,name:ie,fullName:oe,username:re,avatar:ce,link:me,icon:ue,bio:de},xe=({name:s,username:t,avatar:a,bio:i,links:n})=>e.jsxs(g,{className:u.component,children:[e.jsx("img",{src:a,alt:"",className:u.avatar}),e.jsxs("section",{className:u.content,children:[e.jsxs("section",{className:u.name,children:[e.jsxs("div",{className:u.fullName,children:[s.first," ",s.last]}),e.jsxs("div",{className:u.username,children:["@",t]})]}),e.jsx("p",{className:u.bio,children:i}),!!n&&n.map(m=>e.jsxs("a",{href:m.url,className:u.link,children:[e.jsx(_,{className:u.icon,icon:l.Link}),m.label]},m.label+m.url))]})]}),pe=()=>{var i;const s=D(),[t,a]=N.useState({name:{first:"Admin",last:"Istrator"},avatar:"abc",username:"admin",bio:"This is the user's sample bio",links:[{url:"https://github.com/yourdash/yourdash",label:"Click me"}]});return j.useEffect(()=>{c.getText("/core/user/current/avatar/original",n=>{a({...t,avatar:`${c.getInstanceUrl()}${n}`})})},[]),e.jsx(d,{title:"Profile",children:e.jsxs("section",{className:"grid grid-cols-[auto,1fr] w-full col-span-2 gap-4",children:[e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(xe,{name:t.name,avatar:t.avatar,username:t.username,bio:t.bio,links:t.links})}),e.jsxs(g,{className:"gap-4 flex flex-col child:w-full",children:[e.jsx("h2",{className:"-mb-2 font-semibold text-2xl",children:"Name"}),e.jsxs(z,{className:"child:flex-grow",children:[e.jsx(f,{accessibleName:"First name",onChange:n=>{a({...t,name:{...t.name,first:n}})},defaultValue:t.name.first,label:"FirstName"}),e.jsx(f,{accessibleName:"Last name",onChange:n=>{a({...t,name:{...t.name,last:n}})},defaultValue:t.name.last,label:"LastName"})]}),e.jsx(f,{accessibleName:"Username",onChange:n=>{a({...t,username:n})},defaultValue:t.username,label:"username"}),e.jsx("h2",{className:"-mb-4 font-semibold text-2xl",children:"Bio"}),e.jsx(U,{defaultValue:t.bio,onChange:n=>{a({...t,bio:n.currentTarget.value})}}),e.jsxs("div",{className:"-mb-2 flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-2xl",children:"Links"}),e.jsx(C,{icon:l.Plus,onClick:()=>{var n;a({...t,links:[...t.links||[],{url:"https://example.com",label:`Example${(((n=t.links)==null?void 0:n.length)||0)+1}`}]})}})]}),e.jsx(e.Fragment,{children:(i=t.links)==null?void 0:i.map((n,m)=>e.jsx(ae,{links:t.links||[],setLinks:o=>{a({...t,links:o})},link:n},n.url+n.label))}),e.jsx(L,{onClick:()=>{c.postJson("/core/user/current",t,()=>{s.toast.success("Success","Saved user data")},()=>{s.toast.error("Error","Failed to save user data")})},children:"Save"})]})]})})},he=()=>e.jsxs("div",{className:"flex",children:[e.jsx(v,{title:"Chiplet UI",items:[{type:h.Button,label:"Button",icon:l.FileBadge,onClick:()=>0}],defaultState:w.NormalMinimised}),e.jsx(v,{title:"Chiplet UI",items:[{type:h.Button,label:"Button",icon:l.FileBadge,onClick:()=>0}],defaultState:w.FloatingMinimised}),e.jsx(v,{title:"Chiplet UI",items:[{type:h.Button,label:"Button",icon:l.FileBadge,onClick:()=>0}],defaultState:w.FloatingToggleMinimised})]}),je=()=>{const s=D();return e.jsx(e.Fragment,{children:e.jsx(L,{onClick:()=>{c.getJson("/app/settings/developer/install-all-applications",()=>(window.__yourdashCorePanelReload(),s.toast.success("Devtools","Installed all applications"),0))},children:"Install all applications"})})},fe=()=>e.jsxs(d,{title:"Developer tools",children:[e.jsx(je,{}),e.jsx(he,{})]}),ge=()=>e.jsx(d,{title:"Accessibility",children:e.jsx("section",{className:"w-full h-full flex flex-col items-center col-span-2",children:e.jsx(P,{})})}),Ne=()=>e.jsx(V,{children:e.jsxs(r,{element:e.jsx(W,{}),children:[e.jsx(r,{index:!0,element:e.jsx(J,{})}),e.jsx(r,{path:"profile",children:e.jsx(r,{index:!0,element:e.jsx(pe,{})})}),e.jsxs(r,{path:"personalization",children:[e.jsx(r,{index:!0,element:e.jsx(G,{})}),e.jsx(r,{path:"dashboard",element:e.jsx(se,{})}),e.jsx(r,{path:"panel",element:e.jsx(te,{})})]}),e.jsx(r,{path:"session",children:e.jsx(r,{index:!0,element:e.jsx(q,{})})}),e.jsx(r,{path:"accessibility",children:e.jsx(r,{index:!0,element:e.jsx(ge,{})})}),e.jsx(r,{path:"admin",children:e.jsx(r,{index:!0,element:e.jsx(Z,{})})}),e.jsx(r,{path:"developer",children:e.jsx(r,{index:!0,element:e.jsx(fe,{})})})]})});export{Ne as default};
