import{J as B,b as w,m as Z,k as D,j as e,f as m,F as b,z as j,K as E,p as S,h as v,T as G,N as Y,y as ee,e as d,S as se,o as te,P as p,I as $,U as r,H as ae,r as g,C,v as P,c as ne,q as le,i as oe,s as re,u as A,E as z,O as ie,Q as O,w as W,V as k,W as L,X as I,R as ce,a as o,Y as de}from"./index-35df064e.js";import{C as H}from"./ComingSoon-6c1cddb1.js";import{D as me}from"./DropdownButton-7aa3cdf8.js";import{T as xe}from"./TextBox-f6a9c52c.js";import{T as _}from"./TextInput-b9d5c21b.js";const V=B.createContext({openSidebar:()=>{},closeSidebar:()=>{},toggleSidebar:()=>{},isOpen:!0}),K=()=>{const s=B.useContext(V);return w.jsx(Z,{accessibleLabel:s.isOpen?"Collapse Sidebar":"Expand Sidebar",icon:s.isOpen?D.SidebarCollapse:D.SidebarExpand,onClick:()=>{s.toggleSidebar()}})};var F=(s=>(s.STRING="string",s.INT="int",s.FLOAT="float",s.DIRECTORY="directory",s.FILE="file",s.FILE_OF_TYPE="fileOfType",s.COLOR="color",s.DATE="date",s.TIME="time",s.BOOLEAN="boolean",s.SELECTION="selection",s.MULTIPLE_SELECTION="multipleSelection",s))(F||{});const ue="_component_13sji_6",pe="_thumb_13sji_17",R={component:ue,thumb:pe},Q=({setValue:s,value:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:`${R.component} ${t?"bg-green-400":"bg-red-400"}`,onClick:()=>{s(!t)},children:e.jsx("div",{className:R.thumb,style:{...t?{left:"calc(100% + 0.25rem)",translate:"-100%"}:{left:"-0.25rem",translate:"0%"}}})})}),he="_component_1lvf5_6",je={component:he},T=({children:s,setting:t})=>e.jsxs(m,{className:je.component,children:[e.jsxs(b,{direction:"column",children:[e.jsx(j,{level:5,text:t.displayName||t.id}),t.description&&e.jsx(E,{text:t.description}),e.jsx(S,{text:t.type})]}),s]}),ge=({setting:s})=>{const[t,a]=v.useState(!1);return e.jsx(T,{setting:s,children:e.jsx(Q,{setValue:n=>a(n),value:t})})},fe=({setting:s})=>{const[t,a]=v.useState("");return e.jsx(T,{setting:s,children:e.jsx(G,{placeholder:s.value,accessibleName:s.displayName||s.id||"",onChange:n=>a(n),defaultValue:t})})},be=()=>{const{categoryName:s}=Y(),t=ee(()=>d.getJson(`/app::settings/cat/${s}`),[s]);return e.jsxs("div",{children:[e.jsx(K,{}),e.jsx(j,{text:(t==null?void 0:t.id)||s||"Invalid category name"}),t?Object.keys(t.settings).map(a=>{console.log(a);const n=t.settings[a];switch(n.type){case F.BOOLEAN:return e.jsx(ge,{setting:n},a);case F.STRING:return e.jsx(fe,{setting:n},a)}return e.jsx(e.Fragment,{children:e.jsxs("div",{children:["Setting: ",JSON.stringify(n)]},n.id)})}):e.jsx(se,{})]})},ve=()=>e.jsx("div",{children:"SingleSettingsPage"}),_e="_page_73bp4_10",we="_column_73bp4_29",Ce="_titleContainer_73bp4_37",Ne="_title_73bp4_37",ye="_cardHeader_73bp4_47",Se="_themePreviewContainer_73bp4_51",Be="_themePreview_73bp4_51",c={page:_e,column:we,titleContainer:Ce,title:Ne,cardHeader:ye,themePreviewContainer:Se,themePreview:Be},$e=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:c.page,children:[e.jsxs(b,{direction:"row",className:c.titleContainer,children:[e.jsx(K,{}),e.jsx(j,{className:c.title,level:1,text:"Home"})]}),e.jsxs("div",{className:c.column,children:[e.jsxs(m,{children:[e.jsx(j,{level:3,className:c.cardHeader,text:"Personalise YourDash"}),e.jsxs(b,{direction:"row",className:c.themePreviewContainer,children:[e.jsx(m,{className:c.themePreview,children:"Theme Preview 1"}),e.jsx(m,{className:c.themePreview,children:"Theme Preview 2"}),e.jsx(m,{className:c.themePreview,children:"Theme Preview 3"}),e.jsx(m,{className:c.themePreview,children:"Theme Preview 4"}),e.jsx(m,{className:c.themePreview,children:"Theme Preview 5"})]})]}),e.jsxs(m,{children:[e.jsx(j,{level:3,className:c.cardHeader,text:"Instance Software Updates"}),e.jsxs(b,{direction:"row",children:[e.jsx(te,{icon:D.CheckCircle,size:"1.5rem"}),e.jsx(S,{text:"You're all up to date!"})]}),e.jsxs(b,{direction:"row",children:[e.jsx(S,{text:"Last checked 2 days ago"}),e.jsx(p,{text:"Check for updates",onClick:()=>0})]}),e.jsx(S,{text:"currently version: 1.0.0"})]})]}),e.jsx("div",{className:c.column,children:e.jsxs(m,{children:[e.jsx(j,{level:3,className:c.cardHeader,text:"Manage Wallpaper"}),e.jsxs(b,{direction:"row",children:[e.jsx(m,{children:"Previous Image 1"}),e.jsx(m,{children:"Previous Image 2"}),e.jsx(m,{children:"+"})]})]})})]})});var h=(s=>(s[s.web=0]="web",s[s.desktop=1]="desktop",s[s.cli=2]="cli",s[s.external=3]="external",s))(h||{});const f=({children:s,title:t,noBack:a})=>e.jsxs("main",{className:"flex flex-col items-center ml-auto mr-auto w-full max-w-6xl pl-4 pr-4 min-h-full",children:[e.jsxs("section",{className:"flex items-center w-full gap-2 pt-8 pb-8 pl-4 pr-4 animate__animated animate__fadeIn animate__duration_250ms",children:[!a&&e.jsx($,{onClick:()=>{window.history.back()},icon:r.ChevronLeft}),e.jsx(ae,{level:2,children:t})]}),e.jsx("div",{className:"grid grid-cols-1 w-full xl:grid-cols-2 gap-2 animate__animated animate__fadeIn animate__100ms h-full overflow-x-hidden overflow-y-auto auto-rows-max",children:s})]}),Pe=()=>{const[s,t]=g.useState(0),[a,n]=g.useState([]),[l,x]=g.useState([]);return g.useEffect(()=>{d.syncGetJson("/user/sessions",i=>{n(i.sessions)}),d.syncGetJson("/core/personal-server-accelerator/sessions",i=>{x(i.sessions)})},[s]),e.jsx(f,{title:"Sessions",noBack:!1,children:e.jsx("main",{className:"col-span-2 p-4",children:e.jsx("section",{className:"gap-2 flex flex-wrap",children:a.map(i=>e.jsxs(C,{className:"p-0 overflow-hidden flex flex-grow flex-col min-w-[14rem]",children:[e.jsxs("div",{className:"font-semibold text-6xl text-container-fg pl-4 pt-2 pb-2 flex gap-4 w-full",children:[i.sessionId,e.jsx(P,{className:"aspect-square h-8 m-auto ml-0",icon:i.type===h.web?r.Browser:i.type===h.cli?r.Terminal:i.type===h.desktop?r.DeviceDesktop:r.Question})]}),e.jsxs("div",{className:"w-full bg-container-secondary-bg pl-4 p-3 flex text-container-fg items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{children:["Type: ",i.type===h.web&&"Web",i.type===h.cli&&"Cli",i.type===h.desktop&&"Desktop",i.type===h.external&&"External"]}),e.jsxs("div",{children:["Supports PSA: ",(!!i.isNodeJS).toString()]})]}),e.jsx($,{icon:r.X,onClick:()=>{d.deleteJson(`/core/session/${i.sessionId}`,()=>{t(s+1)})}})]})]},i.sessionId))})})})},ke="_component_195d9_10",Le="_open_195d9_57",q={component:ke,open:Le,"animate-in":"_animate-in_195d9_1"},Ie=({children:s})=>{const t=B.useContext(V),a=ne();return w.jsx(le,{children:w.jsx(b,{direction:"column",className:oe(q.component,t.isOpen&&q.open,re(a+1)),children:s})})},De="_component_3jgyq_10",Fe={component:De},Ve=({children:s,showSidebarByDefault:t})=>{const[a,n]=B.useState(t||!1);return w.jsx(V.Provider,{value:{closeSidebar:()=>{n(!1)},toggleSidebar:()=>{n(!a)},openSidebar:()=>{n(!0)},isOpen:a},children:w.jsx("div",{className:Fe.component,children:s})})},Ue=()=>{const s=A();return e.jsxs(Ve,{showSidebarByDefault:!0,children:[e.jsxs(Ie,{children:[e.jsx(j,{level:2,text:"Settings"}),e.jsx(z,{direction:"column"}),e.jsx(p,{text:"Home",onClick:()=>s("/app/a/settings/")}),e.jsx(p,{text:"Personalisation",onClick:()=>s("/app/a/settings/personalization")}),e.jsx(p,{text:"Login Sessions",onClick:()=>s("/app/a/settings/session")}),e.jsx(p,{text:"Administrator Tools",onClick:()=>s("/app/a/settings/admin")}),e.jsx(p,{text:"Developer Tools",onClick:()=>s("/app/a/settings/developer")}),e.jsx(z,{direction:"column"}),e.jsx(j,{text:"Dev",level:4}),e.jsx(p,{text:"Test Category",onClick:()=>s("/app/a/settings/cat/test")}),e.jsx(p,{text:"Test Solo Setting",onClick:()=>s("/app/a/settings/cat/test/test-setting")})]}),e.jsx(ie,{})]})},ze="_component_txga8_6",Re="_title_txga8_14",qe="_textContainer_txga8_21",N={component:ze,title:Re,textContainer:qe},U=({children:s,title:t,description:a,icon:n,onClick:l})=>e.jsxs(C,{onClick:l,className:N.component,children:[e.jsx(P,{className:"aspect-square h-10",icon:n}),e.jsxs("div",{className:N.textContainer,children:[e.jsx("h2",{className:N.title,children:t}),e.jsx("span",{className:N.description,children:a})]}),s]}),J=({title:s,description:t,icon:a,href:n,external:l})=>{const x=A();return e.jsx(U,{onClick:()=>{l?window.location.href=n:x(n)},icon:a,title:s,description:t,children:e.jsx(P,{className:"aspect-square h-8",icon:l?r.Link:r.ChevronRight})})},Je=()=>e.jsxs(f,{title:"Personalization",children:[e.jsx(J,{href:"/app/a/settings/personalization/panel",description:"Customize your panel",title:"Panel",icon:r.Paintbrush}),e.jsx(J,{href:"/app/a/settings/personalization/theme",description:"Customize the look of YourDash",title:"Theme",icon:r.Accessibility})]}),Me="_component_fpudh_6",y={component:Me},Ae=({username:s,avatar:t,name:a})=>e.jsxs(C,{className:y.component,children:[e.jsx("img",{className:y.avatar,src:t,alt:"user's avatar"}),e.jsxs("div",{className:y.name,children:["name: ",a.first,", ",a.last]}),e.jsxs("div",{className:y.username,children:["username: ",s]})]}),Oe=()=>{const[s,t]=v.useState([]);return v.useEffect(()=>{t([{avatar:"",name:{first:"John",last:"Doe"},username:"johnd"},{avatar:"",name:{first:"Jane",last:"Doe"},username:"janed"}])}),e.jsx(e.Fragment,{children:s.map(a=>e.jsx(Ae,{username:a.username,avatar:a.avatar,name:a.name},a.username))})},We=()=>{const[s,t]=v.useState("usersView");switch(s){case"createUser":return e.jsx(e.Fragment,{children:"WIP"});case"usersView":return e.jsx(Oe,{});case"manageUser":return e.jsx(e.Fragment,{children:"WIP"})}},He=()=>e.jsxs(f,{title:"Admin tools",children:[e.jsx(We,{}),e.jsx("section",{className:"w-full h-full flex flex-col items-center col-span-2",children:e.jsx(H,{})})]}),Ke=({value:s,setValue:t,...a})=>e.jsx(U,{...a,children:e.jsx(Q,{setValue:n=>t(n),value:s})}),Qe=()=>{const[s,t]=g.useState(d.userDB.get("dash:useBrowserLayout")||!1);return e.jsx(f,{title:"Dashboard personalization",children:e.jsx(Ke,{title:"Use browser layout",icon:r.Browser,description:'Use the "browser" layout instead of the "dashboard" layout',value:s,setValue:a=>{d.userDB.set("dash:useBrowserLayout",a),t(a)}})})},M=({value:s,setValue:t,options:a,...n})=>e.jsx(U,{...n,children:e.jsx(me,{items:a.map(l=>({label:l.label,onClick:()=>{t(l.value)}})),children:s})}),Te=()=>{const[s,t]=g.useState(d.userDB.get("core:panel:size")||"medium"),[a,n]=g.useState(d.userDB.get("core:panel:side")||"left");return e.jsxs(f,{title:"Panel",children:[e.jsx(M,{title:"Panel Size",icon:r.Gear,description:"Set the size of the panel and it's widgets",options:[{value:"small",label:"Small"},{value:"medium",label:"Medium (Default)"},{value:"large",label:"Large"}],value:s||"medium",setValue:l=>{t(l),d.userDB.set("core:panel:size",l),window.__yourdashCorePanelReload()}}),e.jsx(M,{title:"Panel Side",icon:r.Gear,description:"Set the side that the panel is on the screen",options:[{value:"top",label:"Top"},{value:"right",label:"Right"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left (Default)"}],value:a||"left",setValue:l=>{n(l),d.userDB.set("core:panel:side",l),window.__yourdashCorePanelReload()}})]})},Xe="_component_1j5gk_6",Ze={component:Xe},X=({children:s,style:t,className:a})=>e.jsx("div",{style:t,className:`${Ze.component} ${a}`,children:s}),Ee=({link:s,links:t,setLinks:a})=>e.jsxs(X,{className:"child:flex-grow",children:[e.jsx(_,{onChange:n=>{s.label=n,a(t)},defaultValue:s.label,label:"Label",accessibleName:"Label"}),e.jsx(_,{onChange:n=>{s.url=n,a(t)},defaultValue:s.url,label:"Url",accessibleName:"Url"}),e.jsx($,{className:"aspect-square",icon:r.Dash,onClick:()=>{a(t==null?void 0:t.filter(n=>n!==s))}})]},s.url+s.label),Ge="_component_3lh5q_6",Ye="_content_3lh5q_15",es="_name_3lh5q_22",ss="_fullName_3lh5q_28",ts="_username_3lh5q_33",as="_avatar_3lh5q_40",ns="_link_3lh5q_47",ls="_icon_3lh5q_63",os="_bio_3lh5q_67",u={component:Ge,content:Ye,name:es,fullName:ss,username:ts,avatar:as,link:ns,icon:ls,bio:os},rs=({name:s,username:t,avatar:a,bio:n,links:l})=>e.jsxs(C,{className:u.component,children:[e.jsx("img",{src:a,alt:"",className:u.avatar}),e.jsxs("section",{className:u.content,children:[e.jsxs("section",{className:u.name,children:[e.jsxs("div",{className:u.fullName,children:[s.first," ",s.last]}),e.jsxs("div",{className:u.username,children:["@",t]})]}),e.jsx("p",{className:u.bio,children:n}),!!l&&l.map(x=>e.jsxs("a",{href:x.url,className:u.link,children:[e.jsx(P,{className:u.icon,icon:r.Link}),x.label]},x.label+x.url))]})]}),is=()=>{var n;const s=O(),[t,a]=v.useState({name:{first:"Admin",last:"Istrator"},avatar:"abc",username:"admin",bio:"This is the user's sample bio",links:[{url:"https://github.com/yourdash/yourdash",label:"Click me"}]});return g.useEffect(()=>{d.getText("/core/user/current/avatar/original",l=>{a({...t,avatar:`${d.getInstanceUrl()}${l}`})})},[]),e.jsx(f,{title:"Profile",children:e.jsxs("section",{className:"grid grid-cols-[auto,1fr] w-full col-span-2 gap-4",children:[e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(rs,{name:t.name,avatar:t.avatar,username:t.username,bio:t.bio,links:t.links})}),e.jsxs(C,{className:"gap-4 flex flex-col child:w-full",children:[e.jsx("h2",{className:"-mb-2 font-semibold text-2xl",children:"Name"}),e.jsxs(X,{className:"child:flex-grow",children:[e.jsx(_,{accessibleName:"First name",onChange:l=>{a({...t,name:{...t.name,first:l}})},defaultValue:t.name.first,label:"FirstName"}),e.jsx(_,{accessibleName:"Last name",onChange:l=>{a({...t,name:{...t.name,last:l}})},defaultValue:t.name.last,label:"LastName"})]}),e.jsx(_,{accessibleName:"Username",onChange:l=>{a({...t,username:l})},defaultValue:t.username,label:"username"}),e.jsx("h2",{className:"-mb-4 font-semibold text-2xl",children:"Bio"}),e.jsx(xe,{defaultValue:t.bio,onChange:l=>{a({...t,bio:l.currentTarget.value})}}),e.jsxs("div",{className:"-mb-2 flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-2xl",children:"Links"}),e.jsx($,{icon:r.Plus,onClick:()=>{var l;a({...t,links:[...t.links||[],{url:"https://example.com",label:`Example${(((l=t.links)==null?void 0:l.length)||0)+1}`}]})}})]}),e.jsx(e.Fragment,{children:(n=t.links)==null?void 0:n.map((l,x)=>e.jsx(Ee,{links:t.links||[],setLinks:i=>{a({...t,links:i})},link:l},l.url+l.label))}),e.jsx(W,{onClick:()=>{d.postJson("/core/user/current",t,()=>{s.toast.success("Success","Saved user data")},()=>{s.toast.error("Error","Failed to save user data")})},children:"Save"})]})]})})},cs=()=>e.jsxs("div",{className:"flex",children:[e.jsx(k,{title:"Chiplet UI",items:[{type:L.Button,label:"Button",icon:r.FileBadge,onClick:()=>0}],defaultState:I.NormalMinimised}),e.jsx(k,{title:"Chiplet UI",items:[{type:L.Button,label:"Button",icon:r.FileBadge,onClick:()=>0}],defaultState:I.FloatingMinimised}),e.jsx(k,{title:"Chiplet UI",items:[{type:L.Button,label:"Button",icon:r.FileBadge,onClick:()=>0}],defaultState:I.FloatingToggleMinimised})]}),ds=()=>{const s=O();return e.jsx(e.Fragment,{children:e.jsx(W,{onClick:()=>{d.syncGetJson("/app/settings/developer/install-all-applications",()=>(window.__yourdashCorePanelReload(),s.toast.success("Devtools","Installed all applications"),0))},children:"Install all applications"})})},ms=()=>e.jsxs(f,{title:"Developer tools",children:[e.jsx(ds,{}),e.jsx(cs,{})]}),xs=()=>e.jsx(f,{title:"Accessibility",children:e.jsx("section",{className:"w-full h-full flex flex-col items-center col-span-2",children:e.jsx(H,{})})}),fs=()=>e.jsx(ce,{children:e.jsxs(o,{element:e.jsx(Ue,{}),children:[e.jsx(o,{index:!0,element:e.jsx($e,{})}),e.jsxs(o,{path:"cat",children:[e.jsx(o,{index:!0,element:e.jsx(de,{to:"/app/a/settings/"})}),e.jsxs(o,{path:":categoryName",children:[e.jsx(o,{index:!0,element:e.jsx(be,{})}),e.jsx(o,{path:":settingName",element:e.jsx(ve,{})})]})]}),e.jsx(o,{path:"profile",children:e.jsx(o,{index:!0,element:e.jsx(is,{})})}),e.jsxs(o,{path:"personalization",children:[e.jsx(o,{index:!0,element:e.jsx(Je,{})}),e.jsx(o,{path:"dashboard",element:e.jsx(Qe,{})}),e.jsx(o,{path:"panel",element:e.jsx(Te,{})})]}),e.jsx(o,{path:"session",children:e.jsx(o,{index:!0,element:e.jsx(Pe,{})})}),e.jsx(o,{path:"accessibility",children:e.jsx(o,{index:!0,element:e.jsx(xs,{})})}),e.jsx(o,{path:"admin",children:e.jsx(o,{index:!0,element:e.jsx(He,{})})}),e.jsx(o,{path:"developer",children:e.jsx(o,{index:!0,element:e.jsx(ms,{})})})]})});export{fs as default};
