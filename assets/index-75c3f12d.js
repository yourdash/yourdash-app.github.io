import{r as l,h as b,j as e,A as y,e as m,v as B,U as v,M as E,w as L,C as M,R as S,a as D}from"./index-35df064e.js";import{D as x}from"./DropdownButton-7aa3cdf8.js";import{T as g}from"./TextBox-f6a9c52c.js";const T="_component_1scyw_6",_="_handle_1scyw_16",j={component:T,handle:_},A=({children:a,style:d,className:c,direction:r})=>{const[u,s]=l.useState(!1),[o,p]=l.useState(0),[f,t]=l.useState(0),n=b.useRef(null),w=i=>{n.current&&(i.preventDefault(),s(!0),p(r==="row"?i.clientX-n.current.getBoundingClientRect().left:i.clientY-n.current.getBoundingClientRect().top),t(r==="row"?i.clientX-n.current.getBoundingClientRect().left:i.clientY-n.current.getBoundingClientRect().top))},C=i=>{if(!n.current||!u)return;const h=r==="row"?i.clientX-n.current.getBoundingClientRect().left:i.clientY-n.current.getBoundingClientRect().top,N=h-f;t(h),p(o+N)},R=()=>{s(!1)};return e.jsxs("div",{ref:n,style:{...d,flexDirection:r,padding:0},className:`${j.component} ${c}`,onMouseMove:C,children:[e.jsx("div",{style:{[r==="row"?"width":"height"]:o},children:a[0]}),e.jsx("div",{style:r==="row"?{left:`${o-4}px`,cursor:"col-resize",top:0,height:"100%",width:"0.5rem",...u?{backgroundColor:"rgb(var(--theme-500))",transition:"none"}:{}}:{left:0,cursor:"row-resize",top:`${o-4}px`,width:"100%",height:"0.5rem",...u?{backgroundColor:"rgb(var(--theme-500))",transition:"none"}:{}},className:j.handle,onMouseDown:w,onMouseUp:R}),a[1]]})},P=""+new URL("yourdash-58795caf.svg",import.meta.url).href,U=()=>{const a=y("diffusion_lab"),[d,c]=l.useState(1),[r,u]=l.useState([]),[s,o]=l.useState({extensions:[],dimensions:{width:256,height:256},model:"",prompt:{positive:"",negative:""},seed:-1,steps:20,clientId:0,batch:{size:1,quantity:1}}),[p,f]=l.useState([]);return l.useEffect(()=>{m.syncGetJson("/app/diffusion_lab/models",t=>{o({...s,model:t.models[0]}),u(t.models)})},[]),e.jsxs("main",{children:[e.jsxs("header",{className:"w-full p-3 flex items-center justify-between sticky top-0 bg-container-bg text-container-fg",children:[e.jsxs("section",{className:"flex items-center justify-center h-full gap-2",children:[e.jsx(x,{items:r.map(t=>({label:t.slice(0,1).toUpperCase()+t.slice(1),onClick:()=>{o({...s,model:t})}})),children:"Select a diffusion model"}),e.jsx(x,{items:r.map(t=>({label:t.slice(0,1).toUpperCase()+t.slice(1),onClick:()=>{o({...s,model:t})}})),children:"Select a VAE"})]}),e.jsx("section",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:e.jsxs("div",{className:"flex items-center justify-center h-full gap-1.5",children:[e.jsx(B,{className:"h-9 aspect-square",preserveColor:!0,icon:v.YourDashLogo}),e.jsx("h2",{className:"text-3xl font-semibold tracking-wide",children:a("APPLICATION_NAME")})]})}),e.jsx("section",{className:"flex items-center justify-center h-full gap-2",children:d===1?e.jsx(E,{onClick:()=>{c(1),m.postJson("/app/diffusion_lab/generate",{...s},t=>{f(t),c(1)})},children:a("GENERATE_BUTTON.LABEL")}):e.jsx(L,{onClick:()=>{c(0)},children:a("STOP_BUTTON.LABEL")})})]}),e.jsxs(A,{className:"flex gap-3",direction:"row",children:[e.jsx("section",{className:"flex flex-col flex-grow pl-3 pt-3 pb-3",children:e.jsxs(M,{children:[e.jsx("span",{children:a("PROMPT.LABEL")}),e.jsx(g,{onChange:t=>{o({...s,prompt:{...s.prompt,positive:t.target.value}})}}),e.jsx("span",{children:a("NEGATIVE_PROMPT.LABEL")}),e.jsx(g,{onChange:t=>{o({...s,prompt:{...s.prompt,negative:t.target.value}})}})]})}),e.jsx("section",{children:e.jsx("div",{className:"flex flex-col pr-3 pt-3 pb-3",children:e.jsx("div",{style:{aspectRatio:`${s.dimensions.width} / ${s.dimensions.height}`},className:"flex flex-col flex-wrap p-4 items-center justify-center",children:p.map(t=>t.map(n=>e.jsx("img",{src:n||P,alt:"generated ai-image",className:"w-full h-full"},n)))})})})]})]})},O=()=>e.jsx(S,{children:e.jsx(D,{index:!0,element:e.jsx(U,{})})});export{O as default};
