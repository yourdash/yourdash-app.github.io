import{j as e,I as j,r as n,w as b,c as i,Y as o,b as u,h as N,e as w,S,n as k,m as d,R as v,a as D}from"./index-5bcd9038.js";import{G as B}from"./globalDbApplication-44a86211.js";import"./TextBox-56383e45.js";const l=({icon:t,color:a,displayName:r,value:c})=>e.jsxs("div",{className:"flex flex-col gap-1 items-center justify-center",children:[e.jsx(j,{icon:t,color:a}),e.jsx("span",{children:c})]}),I=()=>{const[t,a]=n.useState(0),[r,c]=n.useState(0),[g,h]=n.useState(0),[m,p]=n.useState(0),[x,f]=n.useState(0);return n.useEffect(()=>{const s=b(`${i.getInstanceUrl().replace("https://","wss://").replace("http://","ws://")}`,{path:"/app/yourdev/websocket-manager/websocket",auth:{token:i.getUserToken(),username:i.getUsername()}});return s.on("connect",()=>{console.log("connected"),s.emit("message","hello")}),s.on("message",()=>{c(r+1),s.emit("message","hello"),console.log("hello")}),s.on("warning",()=>{h(g+1)}),s.on("error",()=>{p(m+1)}),s.on("debug",()=>{f(x+1)}),s.on("disconnect",()=>1),()=>{s.disconnect()}},[]),e.jsxs("div",{className:"ml-auto flex gap-2 items-center",children:[e.jsx(l,{icon:o.Info,color:"#32b3ff",displayName:"Info Logs",value:r}),e.jsx(l,{icon:o.Plug,color:"#ffffff",displayName:"Websocket Connections",value:t}),e.jsx(l,{icon:o.Alert,color:"#eab842",displayName:"Warning Logs",value:g}),e.jsx(l,{icon:o.XCircle,color:"#ff6633",displayName:"Error Logs",value:m}),e.jsx(l,{icon:o.Bug,color:"#0ac700",displayName:"Debug Logs",value:x})]})},L=()=>e.jsx("div",{className:"@container",children:e.jsxs("section",{className:"grid grid-cols-1 @6xl:grid-cols-2 gap-4",children:[e.jsxs("section",{className:"flex flex-col gap-4",children:[e.jsxs(u,{className:"flex gap-2 flex-row items-center",showBorder:!0,children:[e.jsx(N,{className:"aspect-square h-12",icon:o.YourDashLogo,preserveColor:!0}),e.jsx("h1",{className:"text-3xl font-bold tracking-wide",children:"YourDash Dev"}),e.jsx(I,{})]}),e.jsx(u,{className:"h-full",showBorder:!0,children:"Requests log"})]}),e.jsx("section",{className:"flex flex-col gap-4",children:e.jsx(u,{className:"h-full",showBorder:!0,children:e.jsx("h2",{className:"font-semibold text-3xl tracking-wide",children:"Console"})})})]})}),y=()=>{const[t,a]=w.useState("home");return e.jsxs("main",{className:"h-full grid grid-cols-[auto,1fr] overflow-hidden gap-4 p-4 bg-bg",children:[e.jsx(S,{title:"YourDev",defaultState:k.FloatingMinimised,items:[{type:d.Button,label:"Home",icon:o.Home,onClick:()=>{a("home")}},{type:d.Button,label:"Global DB",icon:o.Database,onClick:()=>{a("global_db")}},{type:d.Button,label:"User DB",icon:o.Person,onClick:()=>{a("user_db")}}]}),t==="home"&&e.jsx(L,{}),t==="global_db"&&e.jsx(B,{}),t==="user_db"&&null]})},Y=()=>e.jsx(v,{children:e.jsx(D,{index:!0,element:e.jsx(y,{})})});export{Y as default};
