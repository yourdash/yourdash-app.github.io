import{j as t,u as I,C as d,f as _,r as x,b as G,I as j,U as h,y as w,e as N,x as V,v as F,V as K,R as P,a as y}from"./index-ad359391.js";import{T as E}from"./TextInput-9d2d8454.js";import{Chart as z,CategoryScale as J,LinearScale as Q,PointElement as q,LineElement as X,Title as Z,Tooltip as T}from"chart.js";const ee="_component_632zp_6",te={component:ee},b=({children:e,style:s,className:n})=>t.jsx("div",{style:s,className:`${te.component} ${n}`,children:e}),se=""+new URL("clear-868250e2.jpg",import.meta.url).href,H=""+new URL("cloudy1-1d146cb7.jpg",import.meta.url).href,O=""+new URL("rain1-5759113f.jpg",import.meta.url).href,R=""+new URL("snow-0e17c021.jpg",import.meta.url).href,$=""+new URL("thunder-c898358c.jpg",import.meta.url).href,ne="_component_tuavp_6",re={component:ne},ae=({props:e})=>{const s=I();return t.jsxs(d,{showBorder:!0,style:{background:`url(${H})`},className:_("animate__animated animate__fadeIn",re.component),onClick:()=>{s(`/app/a/uk-ewsgit-weather/${e.id}`)},children:[t.jsxs("h2",{className:"text-4xl font-bold tracking-wide",children:[e.address.name,e.address.country!==e.address.name&&","]}),t.jsx("span",{children:e.address.admin1&&`${e.address.admin1}, `}),t.jsx("span",{children:e.address.country!==e.address.name&&e.address.country})]})},ce=({props:e})=>{const s=I();return t.jsxs(d,{showBorder:!0,className:_("animate__animated animate__fadeIn","hover:bg-button-hover-bg active:bg-button-active-bg hover:text-button-hover-fg active:text-button-active-fg transition-[var(--transition)] cursor-pointer w-full bg-button-bg text-button-fg"),onClick:()=>{s(`/app/a/uk-ewsgit-weather/${e.id}`)},children:[t.jsxs("h2",{className:"text-2xl font-semibold tracking-wide",children:[e.address.name,e.address.country!==e.address.name&&","]}),t.jsx("span",{children:e.address.admin1&&`${e.address.admin1}, `}),t.jsx("span",{children:e.address.country!==e.address.name&&e.address.country})]})},oe="_searchBar_8ndxx_6",le="_inputElement_8ndxx_6",ie="_componentLabel_8ndxx_12",ue="_component_8ndxx_12",de="_results_8ndxx_21",f={searchBar:oe,inputElement:le,componentLabel:ie,component:ue,results:de},me=()=>{const e=I(),[s,n]=x.useState(""),[c,l]=x.useState([]),[o,r]=x.useState(!1);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:f.component,children:[t.jsx("div",{className:f.componentLabel,children:"Searching for"}),t.jsx(E,{accessibleName:"Search Weather Location",className:f.searchBar,inputClassName:f.inputElement,placeholder:"Search Weather Locations",onKeyDown:i=>{i.key==="Enter"&&c[0]&&e(`/app/a/uk-ewsgit-weather/${c[0].id}`)},onChange:i=>{n(i),G.syncGetJson(`/app/weather/geolocation/${i.replaceAll(" ","+")}`,u=>{l(u),r(!0)},()=>{l([]),r(!0)})}}),o&&c.length!==0?t.jsx("section",{className:f.results,children:c.map((i,u)=>u===0?t.jsx(ae,{props:i},i.id):t.jsx(ce,{props:i},i.id))}):s!==""&&t.jsx("section",{className:f.results,children:t.jsxs("div",{className:"col-span-4 text-3xl text-center font-semibold pt-4 pb-4",children:['Invalid location "',s,'"']})})]})})},he=({props:e})=>{const s=I();return t.jsxs(d,{showBorder:!0,className:_("animate__animated animate__fadeIn","hover:bg-button-hover-bg active:bg-button-active-bg hover:text-button-hover-fg active:text-button-active-fg transition-[var(--transition)] cursor-pointer w-full bg-button-bg text-button-fg"),onClick:()=>{s(`/app/a/uk-ewsgit-weather/${e.id}`)},children:[t.jsxs("h2",{className:"text-2xl font-semibold tracking-wide",children:[e.address.name,e.address.country!==e.address.name&&","]}),t.jsx("span",{children:e.address.admin1&&`${e.address.admin1}, `}),t.jsx("span",{children:e.address.country!==e.address.name&&e.address.country})]})},xe="_page_9um7u_6",Ne="_hero_9um7u_22",fe="_text_9um7u_35",_e="_sectionHeader_9um7u_45",C={page:xe,hero:Ne,text:fe,sectionHeader:_e},pe=[$,H,O,R,se],ge=()=>{const[e,s]=x.useState("");return x.useEffect(()=>{const n=Math.floor(Math.random()*5);s(pe[n])},[]),t.jsxs(b,{className:C.page,children:[t.jsx(d,{shadow:!1,showBorder:!1,className:_(C.hero,"animate__animated animate__fadeIn animate__500ms"),style:{backgroundImage:`url(${e})`},children:t.jsx("h1",{className:C.text,children:"YourDash Weather"})}),t.jsx(b,{className:"animate__animated animate__fadeIn animate__750ms",children:t.jsx(me,{})}),t.jsx("h2",{className:C.sectionHeader,children:"Saved Locations"}),t.jsx("section",{className:"grid grid-cols-4",children:t.jsx(he,{props:{address:{name:"Your Location"},id:"your-location",latitude:0,longitude:0}})})]})};var a=(e=>(e[e.CLEAR=0]="CLEAR",e[e.PARTLY_CLOUDY=1]="PARTLY_CLOUDY",e[e.CLOUDY=2]="CLOUDY",e[e.FOG=3]="FOG",e[e.LIGHT_RAIN=4]="LIGHT_RAIN",e[e.RAIN=5]="RAIN",e[e.HEAVY_RAIN=6]="HEAVY_RAIN",e[e.LIGHT_SNOW=7]="LIGHT_SNOW",e[e.SNOW=8]="SNOW",e[e.HEAVY_SNOW=9]="HEAVY_SNOW",e[e.LIGHT_RAIN_SHOWERS=10]="LIGHT_RAIN_SHOWERS",e[e.RAIN_SHOWERS=11]="RAIN_SHOWERS",e[e.HEAVY_RAIN_SHOWERS=12]="HEAVY_RAIN_SHOWERS",e[e.THUNDER=13]="THUNDER",e))(a||{});function W(e){switch(e){case a.CLEAR:return"CONDITION_CLEAR_SKIES";case a.HEAVY_RAIN:return"CONDITION_HEAVY_RAIN";case a.HEAVY_SNOW:return"CONDITION_HEAVY_SNOW";case a.CLOUDY:return"CONDITION_CLOUDY";case a.LIGHT_SNOW:return"CONDITION_LIGHT_SNOW";case a.FOG:return"CONDITION_FOG";case a.LIGHT_RAIN:return"CONDITION_LIGHT_RAIN";case a.RAIN_SHOWERS:return"CONDITION_RAIN_SHOWER";case a.HEAVY_RAIN_SHOWERS:return"CONDITION_HEAVY_RAIN_SHOWER";case a.LIGHT_RAIN_SHOWERS:return"CONDITION_LIGHT_RAIN_SHOWER";case a.PARTLY_CLOUDY:return"CONDITION_PARTLY_CLOUDY";case a.RAIN:return"CONDITION_RAIN";case a.SNOW:return"CONDITION_SNOW";case a.THUNDER:return"CONDITION_THUNDER";default:return"unknown"}}function p(e){switch(e%16){case 0:return"N";case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";case 16:return"N"}}function je(e,s){switch(Math.floor(s/5)){case 0:return`gentle ${p(e)} breeze`;case 1:return`light ${p(e)} breeze`;case 2:return`moderate ${p(e)} winds`;case 3:return`strong ${p(e)} winds`;case 4:return`gale force ${p(e)} winds`}}function Ie(e,s,n=!1){const c=W(s.weatherState),l=Math.round(s.temperature),o=je(s.windDirection,s.windSpeed);return`Currently ${e(c)} at ${l}Â°C with a ${o}`}const Ce=""+new URL("clear-e316c863.avif",import.meta.url).href,Oe=""+new URL("cloudy1-98a8c5b9.avif",import.meta.url).href,Re=""+new URL("cloudy2-0e567ddd.jpg",import.meta.url).href,Le=""+new URL("foggy-527c269c.jpg",import.meta.url).href,v=""+new URL("rain2-26efd74c.jpg",import.meta.url).href,k=""+new URL("rain3-4f651897.jpg",import.meta.url).href,we=""+new URL("snow2-06b05777.jpg",import.meta.url).href,ye=[Ce,Oe,Re,Le,O,v,k,R,we,R,O,v,k,$];function be(e){return ye[e]}const ve="_component_x0k5k_6",ke="_main_x0k5k_17",Ae="_mainControlsCompact_x0k5k_39",Ue="_controls_x0k5k_45",De="_controlsCompact_x0k5k_72",Ye="_indicator_x0k5k_81",g={component:ve,main:ke,mainControlsCompact:Ae,controls:Ue,controlsCompact:De,indicator:Ye},Se=({children:e,containerClassName:s,className:n,compactControls:c,...l})=>{const o=x.useRef(null);return t.jsxs("div",{...l,className:`${g.component} ${s}`,children:[t.jsx("div",{className:`${g.main} ${c&&g.mainControlsCompact} ${n}`,ref:o,onScroll:r=>r.preventDefault(),children:e}),t.jsx("div",{className:`${g.controls} ${c&&g.controlsCompact}`,children:e instanceof Array?t.jsxs(t.Fragment,{children:[t.jsx(j,{icon:h.ChevronLeft,onClick:()=>{if(!o.current)return;const r=o.current;r.scrollTo({left:r.scrollLeft-r.getBoundingClientRect().width/4*3})}}),t.jsx(j,{icon:h.ChevronRight,onClick:()=>{if(!o.current)return;const r=o.current;r.scrollTo({left:r.scrollLeft+r.getBoundingClientRect().width/4*3})}})]}):null})]})},Ge=["DAY_SUNDAY","DAY_MONDAY","DAY_TUESDAY","DAY_WEDNESDAY","DAY_THURSDAY","DAY_FRIDAY","DAY_SATURDAY"];function He(e){return Ge[e]}const $e=""+new URL("clear-36f454f3.svg",import.meta.url).href,A=""+new URL("heavy_rain-092a341b.svg",import.meta.url).href,We=""+new URL("light_rain-0b91cdac.svg",import.meta.url).href,U=""+new URL("snow-c0b0d6fc.svg",import.meta.url).href,D=""+new URL("cloudy-de66283f.svg",import.meta.url).href,Y=""+new URL("partly_cloudy-5363df8d.svg",import.meta.url).href;function B(e){switch(e){case a.CLEAR:return $e;case a.PARTLY_CLOUDY:return Y;case a.CLOUDY:return D;case a.FOG:return D;case a.LIGHT_RAIN:return We;case a.RAIN:return A;case a.HEAVY_RAIN:return A;case a.LIGHT_SNOW:return U;case a.HEAVY_SNOW:return U;default:return Y}}const Be=({weatherData:e,setSelectedDay:s,selectedDay:n})=>{const c=useTranslate("uk-ewsgit-weather");return t.jsx(Se,{className:"sticky top-[5.75rem] flex gap-1 p-2 pl-10 pr-10 w-full pt-0",compactControls:!0,children:e.daily.time.map((l,o)=>{const r=new Date(l);return t.jsxs(d,{onClick:()=>{s(o)},className:_(n===o?"mb-4":"mt-4"),children:[t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsxs("h2",{className:"flex gap-1 font-semibold text-3xl",children:[c(He(r.getDay())),t.jsx("span",{className:`${r.getDate()===1?"after:content-['st']":r.getDate()===2?"after:content-['nd']":r.getDate()===3?"after:content-['rd']":"after:content-['th']"} after:font-light after:text-sm after:justify-self-start flex`,children:r.getDate()})]}),t.jsx("img",{className:"w-20 -mr-2 -mt-4",alt:"",src:B(e.daily.weatherState[o])})]}),t.jsxs("div",{className:"-mt-2",children:[t.jsxs("div",{className:"font-black text-3xl flex gap-1 items-center",children:[t.jsx(w,{icon:h.ChevronUp,className:"h-4",color:"#43aa8b"}),t.jsx("span",{children:e.daily.temperature.max[o]}),t.jsx("span",{className:"text-[#43aa8b]",children:e.units.daily.temperature.max})]}),t.jsxs("div",{className:"text-xl flex gap-1 items-center",children:[t.jsx(w,{icon:h.ChevronDown,className:"h-4",color:"#f94144"}),t.jsx("span",{children:e.daily.temperature.min[o]}),t.jsx("span",{className:"text-[#f94144]",children:e.units.daily.temperature.min})]})]})]},l)})})},Me="_currentWeatherHeader_144je_6",Ve="_stuck_144je_13",S={currentWeatherHeader:Me,stuck:Ve},Fe=({weatherData:e,scrollContainerRef:s,setSelectedDay:n,selectedDay:c})=>{const l=I(),o=useTranslate("uk-ewsgit-weather"),[r,i]=N.useState(!1);return N.useEffect(()=>{if(!s.current)return;const u=s.current,M=0;function L(){u.scrollTop>M?i(!0):u.scrollTop===0&&i(!1)}return u.addEventListener("scroll",L),()=>{u.removeEventListener("scroll",L)}},[]),t.jsxs("header",{style:{backgroundImage:`url(${be(e.currentWeather.weatherState)}`},className:"bg-cover bg-center sticky top-0 left-0 w-full",children:[t.jsxs("section",{className:"p-4 flex gap-2 h-28 items-center justify-between from-base-700 to-transparent bg-gradient-to-b child:flex child:items-center",children:[t.jsxs("section",{className:"flex gap-2",children:[t.jsx(j,{icon:h.ChevronLeft,onClick:()=>{l("/app/a/uk-ewsgit-weather")}}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("h1",{className:"tracking-wide font-bold text-5xl m-0",children:[e.location.name,","]}),t.jsxs("div",{className:"flex gap-2 text-xl",children:[t.jsxs("span",{children:[e.location.admin1,","]}),t.jsx("span",{children:e.location.country})]})]})]}),t.jsxs("section",{className:"gap-2 flex",children:[t.jsx(j,{icon:h.Bookmark}),t.jsx(j,{icon:r?h.ChevronDown:h.ChevronUp,onClick:()=>{i(!r)}})]})]}),t.jsx("section",{className:_(S.currentWeatherHeader,r&&S.stuck),children:t.jsx(V,{children:Ie(o,e.currentWeather,!1)})}),t.jsx(Be,{setSelectedDay:u=>{n(u),i(!0)},selectedDay:c,weatherData:e})]})};function m(e,s){const n=[];for(let c=0;c<e.length;c+=s)n.push(e.slice(c,c+s));return n}const Ke=({weatherData:e,selectedDay:s,selectedHour:n})=>{const c=useTranslate("uk-ewsgit-weather"),[l,o]=N.useState(null);return N.useEffect(()=>{n!==void 0&&o(new Date(m(e.hourly.time,24)[s][n]))},[s,n]),!l||n===null?t.jsx(d,{className:"col-span-3 flex items-center justify-center h-max sticky top-4",showBorder:!0,children:t.jsx("h1",{children:"Click an hour to show more information."})}):t.jsxs(t.Fragment,{children:[t.jsxs(d,{className:"gap-2 flex col-span-3 items-center justify-center w-full sticky top-4",showBorder:!0,children:[t.jsx("span",{className:"text-3xl font-semibold tracking-wide",children:l.toLocaleDateString(void 0,{dateStyle:"full"})}),t.jsxs("span",{className:"text-3xl font-semibold tracking-wide",children:[l.getHours()<9?`0${l.getHours()+1}`:l.getHours()+1,":00"]})]}),t.jsx(d,{className:"gap-2 flex col-span-3 items-center justify-center w-full",showBorder:!0,children:t.jsxs("span",{className:"text-2xl tracking-wide",children:[m(e.hourly.temperature,24)[s][n||0],e.units.hourly.temperature," ",m(e.hourly.weatherState,24)[s][n||0]!==a.PARTLY_CLOUDY?"with":"and"," ",c(W(m(e.hourly.weatherState,24)[s][n||0]))]})}),t.jsxs(d,{className:"flex items-center justify-center flex-col gap-2",showBorder:!0,children:[t.jsx("span",{className:"font-semibold text-2xl",children:"Wind speed"}),m(e.hourly.windSpeed,24)[s][n||0],e.units.hourly.windSpeed.replace("mp/h","mph")]}),t.jsxs(d,{className:"flex items-center justify-center flex-col gap-2",showBorder:!0,children:[t.jsx("span",{className:"font-semibold text-2xl",children:"Cloud cover"}),m(e.hourly.cloudCover,24)[s][n||0],e.units.hourly.cloudCover]}),t.jsxs(d,{className:"flex items-center justify-center flex-col gap-2",showBorder:!0,children:[t.jsx("span",{className:"font-semibold text-2xl",children:"Rain probability"}),m(e.hourly.precipitationProbability,24)[s][n||0],e.units.hourly.precipitationProbability]})]})};z.register(J,Q,q,X,Z,T);const Pe=({weatherData:e})=>{const s=N.useRef(null),[n,c]=x.useState(0),[l,o]=x.useState(null);return t.jsxs("div",{className:"overflow-hidden h-full grid grid-rows-[auto,1fr] bg-bg",children:[t.jsx(Fe,{setSelectedDay:r=>c(r),selectedDay:n,scrollContainerRef:s,weatherData:e}),t.jsx("div",{ref:s,className:"overflow-x-hidden overflow-y-auto",children:t.jsxs("div",{className:"h-full grid lg:grid-cols-[auto,auto,auto] grid-cols-[1fr] p-4 relative gap-2",children:[t.jsx("section",{className:"h-full pr-2 flex flex-col gap-2 w-full max-w-sm flex-wrap",children:m(e.hourly.time,24)[n].map((r,i)=>{const u=new Date(r);return u<new Date?null:t.jsxs(d,{level:"secondary",className:"flex gap-1 items-center",onClick:()=>{o(i)},children:[t.jsx("img",{className:"h-16 -mt-4 -mb-4 -ml-2",src:B(m(e.hourly.weatherState,24)[n][i]),alt:""}),t.jsxs("span",{className:"font-semibold text-4xl",children:[u.getHours()+1<10?`0${u.getHours()+1}`:u.getHours()===23?"00":u.getHours()+1,":00"]}),t.jsxs("span",{className:"ml-auto text-xl",children:[m(e.hourly.temperature,24)[n][i],e.units.hourly.temperature]})]},r)})}),t.jsxs("section",{className:"w-full h-full grid grid-cols-3 gap-2 grid-rows-[auto,1fr]",children:[t.jsx(Ke,{selectedHour:l,selectedDay:n,weatherData:e}),t.jsx("div",{className:"relative w-full hidden lg:block h-96"})]})]})})]})},Ee=()=>{const{id:e}=F(),[s,n]=N.useState(null);return N.useEffect(()=>{G.syncGetJson(`/app/weather/location/${e}`,c=>{n(c)})},[e]),s!==null?t.jsx(Pe,{weatherData:s}):t.jsx("div",{className:"w-full min-h-full flex items-center justify-center",children:t.jsx(K,{})})},qe=()=>t.jsxs(P,{children:[t.jsx(y,{index:!0,element:t.jsx(ge,{})}),t.jsx(y,{path:":id",element:t.jsx(Ee,{})})]});export{qe as default};
