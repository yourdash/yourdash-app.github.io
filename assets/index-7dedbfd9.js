import{r as n,j as s,f as S,b as j,B as w,n as v,D as O,p as y,Y as J,k as h,s as k,R as C,a as q}from"./index-4cf28dcc.js";const L=({onChange:r,options:l,onBlur:d,label:o,placeholder:x,className:f,onKeyDown:N})=>{const[E,g]=n.useState(!1),[i,p]=n.useState([]),m=n.useRef(null);return s.jsxs("div",{className:S("relative transition-all border-none",f),children:[s.jsx("span",{className:S("pl-2 pr-2 bg-base-700 absolute -top-1 left-2.5 text-sm z-10 [line-height:.65rem] select-none text-base-400"),children:o}),s.jsx("input",{placeholder:x,className:`w-full pl-2 pt-1 pb-1 pr-2 outline-none relative z-0 rounded-button-rounding bg-base-700 transition-all ${E?"hover:border-green-400 focus-within:border-green-400 border-2 border-base-600":"border-2 border-red-400"}`,type:"text",onFocus:t=>{l.includes(t.currentTarget.value)&&t.currentTarget.value!=="/"?p([]):p(l.filter(u=>u.includes(t.currentTarget.value)))},onBlur:t=>d==null?void 0:d(t),onKeyDown:t=>N==null?void 0:N(t),ref:m,onChange:t=>{const u=t.currentTarget.value;if(!u)return g(!1);r(u),p(l.filter(a=>a.includes(u))),l.includes(u)?(u!=="/"&&p([]),g(!0)):g(!1)}}),i.length!==0&&s.jsx(j,{className:"absolute top-full z-10 w-max flex flex-col p-2 gap-1",children:i.slice(0,25).map(t=>s.jsx(w,{className:"h-6 whitespace-nowrap w-full text-left",onClick:()=>{m.current&&(m.current.value=t,r(m.current.value),p([]),g(!0))},children:t},t))})]})};function A(r){h.getJson("/app/endpoints/endpoints",l=>{const d=l.map(o=>{var x;return((x=o==null?void 0:o.route)==null?void 0:x.path)||null}).filter(o=>o!==null);r([...new Set(d)])})}const I=()=>{const r=v("endpoints"),[l,d]=n.useState("JSON"),[o,x]=n.useState("GET"),[f,N]=n.useState({}),[E,g]=n.useState(""),[i,p]=n.useState(""),[m,t]=n.useState([]),[u,a]=n.useState(!0),[T,c]=n.useState(!1),[R,b]=n.useState("");return n.useEffect(()=>{A(e=>t(e))},[]),s.jsxs("main",{className:"grid grid-cols-2 p-2 gap-2",children:[s.jsxs(j,{showBorder:!0,className:"w-full p-3 flex items-center justify-between sticky top-0 bg-container-bg text-container-fg col-span-2",children:[s.jsxs("section",{className:"flex items-center justify-center h-full gap-2",children:[s.jsx(O,{items:[{name:"Get",onClick(){x("GET")}},{name:"Post",onClick(){x("POST")}},{name:"Delete",onClick(){x("DELETE")}}],children:"Get"}),s.jsx(O,{items:[{name:"Text",onClick(){d("Text")}},{name:"JSON",onClick(){d("JSON")}}],children:"JSON"})]}),s.jsx("section",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:s.jsxs("div",{className:"flex items-center justify-center h-full gap-1.5",children:[s.jsx(y,{className:"h-9 aspect-square",useDefaultColor:!0,icon:J.YourDashLogo}),s.jsx("h2",{className:"text-3xl font-semibold tracking-wide",children:r("APPLICATION_NAME")})]})}),s.jsx("section",{className:"flex items-center justify-center h-full gap-2",children:s.jsx(w,{onClick:()=>{switch(c(!1),a(!0),o){case"GET":switch(l){case"Text":h.getText(i,e=>{b(e),a(!1)},e=>{c(e),a(!1)},f);break;case"JSON":h.getJson(i,e=>{b(e),a(!1)},e=>{c(e),a(!1)},f);break;default:c(r("INTERNAL_ERROR"))}break;case"POST":switch(l){case"Text":h.postText(i,JSON.parse(E),e=>{b(e),a(!1)},e=>{c(e),a(!1)},f);break;case"JSON":h.postJson(i,JSON.parse(E),e=>{b(e),a(!1)},e=>{c(e),a(!1)},f);break;default:c(r("INTERNAL_ERROR"))}break;case"DELETE":switch(l){case"Text":h.deleteText(i,e=>{b(e),a(!1)},e=>{c(e),a(!1)},f);break;case"JSON":h.deleteJson(i,e=>{b(e),a(!1)},e=>{c(e),a(!1)},f);break;default:c(r("INTERNAL_ERROR"))}break;default:c(r("INTERNAL_ERROR"))}},children:r("SEND_REQUEST.LABEL")})})]}),s.jsxs(j,{showBorder:!0,className:"bg-container-bg text-container-fg rounded-container-rounding p-2 h-max flex flex-col",children:[s.jsx(L,{options:m,label:"Request Endpoint",onChange:e=>{p(e)},className:"mb-2"}),o!=="GET"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"-mb-0.5 text-opacity-60 text-container-fg",children:"Request Body"}),s.jsx(k,{defaultValue:`{
  
}`,onChange:e=>{g(e.currentTarget.value)}})]}),s.jsx("span",{className:"-mb-0.5 text-opacity-60 text-container-fg",children:"Request Extra Headers"}),s.jsx(k,{defaultValue:`{
  
}`,onChange:e=>{N(JSON.parse(e.currentTarget.value))}})]}),!u&&s.jsxs(j,{className:"overflow-x-auto w-auto",showBorder:!0,children:[s.jsx("pre",{className:"bg-container-secondary-bg text-container-fg p-4 rounded-container-secondary-rounding w-auto",children:l==="JSON"?JSON.stringify(R,null,2):R}),T&&s.jsx("pre",{className:"bg-container-tertiary-bg text-red-400 p-4 rounded-container-rounding",children:T})]})]})},D=()=>s.jsx(C,{children:s.jsx(q,{index:!0,element:s.jsx(I,{})})});export{D as default};
